"use strict"; if (typeof __JSWRAPPER === 'undefined' || (!__JSWRAPPER.initialized())) {
     if ((typeof ServiceWorkerContainer !== 'undefined' && self instanceof ServiceWorkerContainer) || (typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)) {
         importScripts('https://mcas-proxyweb.mcas.ms/js-bootstrap.js?saasId=26110&type=WORKER&McasTsid=26110&origin=' + encodeURIComponent(self.origin ? self.origin : location.origin));
     } else {
         /* eslint-disable */
         eval(function () {
             var x = (typeof __caac__ !== "undefined" && typeof __caac__.xhr !== "undefined") ? new __caac__.xhr() : new XMLHttpRequest();
             x.open = (typeof __caac__ !== "undefined" && typeof __caac__.xhro !== "undefined") ? __caac__.xhro : x.open;
             x.send = (typeof __caac__ !== "undefined" && typeof __caac__.xhrs !== "undefined") ? __caac__.xhrs : x.send;
             x.open('GET', 'https://mcas-proxyweb.mcas.ms/js-bootstrap.js?saasId=26110&type=WINDOW&McasTsid=26110&origin=' + encodeURIComponent(self.origin ? self.origin : location.origin), false);
             x.withCredentials = true;
             x.send();
             return x.responseText;
         }());
         /* eslint-enable */
     }
}define("VSS/Features/MonacoWidgets",["require","exports","react","react-dom","VSS/Core/Observable","VSSUI/Button","VSSUI/Observer","VSSUI/Utils/ClipboardUtils"],(function(e,t,i,o,n,s,r,d){var l,c;l=t.Resources={},t.Resources.CopyLinkCompletedTooltip="Copied link to clipboard",t.Resources.CopyLinkTooltip="Copy link to this selection",function(e){c=t.WidgetsLinkWidget={},t.WidgetsLinkWidget.getLinkWidgetRegistration=function(e,t,i){return{addWidget:o=>{const n=new a(o,e,t,i);return o.addContentWidget(n),n.addContextMenuItems(),n},removeWidget:(e,t)=>{e.dispose(),t.removeContentWidget(e)},widgetId:"link-widget"}};class a{constructor(e,t,i,o){this.disposables=[],this.tooltipText=new n.ObservableValue(l.CopyLinkTooltip),this.onMenuItemClick=e=>{window.open(e)},this.onButtonClick=()=>{if(this.selection){const e=this.getLink({startLineNumber:this.selection.startLineNumber,endLineNumber:this.selection.endLineNumber,startColumn:this.selection.startColumn,endColumn:this.selection.endColumn});(0,d.copyToClipboard)(e),this.tooltipText.value=l.CopyLinkCompletedTooltip}},this.editor=e,this.getLink=t,this.pageContext=i,this.fileExtension=o,this.editor.addAction({id:"copy-link-to-code-selection-widjet",label:"Copy link to code selection",precondition:void 0,keybindingContext:void 0,contextMenuGroupId:"code_selection",contextMenuOrder:1.5,run:()=>this.onButtonClick()}),this.disposables.push(this.editor.onDidChangeCursorSelection((e=>{this.setSelection(void 0);!e.selection||e.selection.endLineNumber===e.selection.startLineNumber&&e.selection.endColumn===e.selection.startColumn||this.setSelection(e.selection)})))}static getId(e){return e.getId()+":LinkWidget"}async addContextMenuItems(){var e,t;const i={cpp:"cpp",cs:"csharp",vb:"csharp",h:"cpp",java:"java",js:"javascript",jsx:"javascript",ts:"typescript",tsx:"typescript"};if(!this.extensionContribution&&this.pageContext&&this.fileExtension){const o="ms.vss-features.code-editor-navigation-provider",n=this.pageContext.getService("IVssContributionService"),s=n.getContributionsByType(o);for(const e in s){const t=await n.getService(e);this.extensionContribution={availableLanguages:null==t?void 0:t.availableLanguages,contextMenuItems:null==t?void 0:t.contextMenuItems}}-1!=(null===(e=this.extensionContribution)||void 0===e?void 0:e.availableLanguages.indexOf(i[this.fileExtension]))&&(null===(t=this.extensionContribution)||void 0===t||t.contextMenuItems.forEach((e=>{this.editor.addAction({id:e.text.toLowerCase().replace(/\s/g,"-"),label:e.text,precondition:void 0,keybindingContext:void 0,contextMenuGroupId:e.contextMenuGroup,contextMenuOrder:100.5,run:()=>this.onMenuItemClick(e.onClickRef)})})))}}getId(){return a.getId(this.editor)}getDomNode(){return this.domNode||(this.domNode=document.createElement("div"),o.render(i.createElement(r.Observer,{tooltipText:this.tooltipText},(e=>i.createElement(s.Button,{className:"copy-link-widget",subtle:!0,iconProps:{iconName:"Link"},onClick:this.onButtonClick,tooltipProps:{text:e.tooltipText}}))),this.domNode)),this.domNode}getPosition(){if(this.selection){const e=this.selection.positionLineNumber<this.selection.selectionStartLineNumber||this.selection.positionLineNumber===this.selection.selectionStartLineNumber&&this.selection.positionColumn<this.selection.selectionStartColumn;return{position:{column:this.selection.positionColumn,lineNumber:this.selection.positionLineNumber},preference:e?[monaco.editor.ContentWidgetPositionPreference.ABOVE,monaco.editor.ContentWidgetPositionPreference.BELOW]:[monaco.editor.ContentWidgetPositionPreference.BELOW,monaco.editor.ContentWidgetPositionPreference.ABOVE]}}return null}dispose(){o.unmountComponentAtNode(this.domNode),this.disposables.forEach((e=>e.dispose())),this.disposables=[]}setSelection(e){this.selection=e,this.delay&&clearTimeout(this.delay),this.domNode.hidden=!0,this.selection&&this.editor.getOption(monaco.editor.EditorOption.readOnly)&&(this.delay=setTimeout((()=>{this.tooltipText.value!==l.CopyLinkTooltip&&(this.tooltipText.value=l.CopyLinkTooltip),this.domNode.hidden=!1,this.editor.layoutContentWidget(this)}),250))}}}(),t.Registration={},Object.defineProperty(t.Registration,"getLinkWidgetRegistration",{enumerable:!0,get:function(){return c.getLinkWidgetRegistration}})}),["Resources","Widgets/LinkWidget","Registration"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-features.monaco-widgets-content"}}));