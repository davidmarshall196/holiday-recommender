"use strict"; if (typeof __JSWRAPPER === 'undefined' || (!__JSWRAPPER.initialized())) {
     if ((typeof ServiceWorkerContainer !== 'undefined' && self instanceof ServiceWorkerContainer) || (typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)) {
         importScripts('https://mcas-proxyweb.mcas.ms/js-bootstrap.js?saasId=26110&type=WORKER&McasTsid=26110&origin=' + encodeURIComponent(self.origin ? self.origin : location.origin));
     } else {
         /* eslint-disable */
         eval(function () {
             var x = (typeof __caac__ !== "undefined" && typeof __caac__.xhr !== "undefined") ? new __caac__.xhr() : new XMLHttpRequest();
             x.open = (typeof __caac__ !== "undefined" && typeof __caac__.xhro !== "undefined") ? __caac__.xhro : x.open;
             x.send = (typeof __caac__ !== "undefined" && typeof __caac__.xhrs !== "undefined") ? __caac__.xhrs : x.send;
             x.open('GET', 'https://mcas-proxyweb.mcas.ms/js-bootstrap.js?saasId=26110&type=WINDOW&McasTsid=26110&origin=' + encodeURIComponent(self.origin ? self.origin : location.origin), false);
             x.withCredentials = true;
             x.send();
             return x.responseText;
         }());
         /* eslint-enable */
     }
}define("VSS/Features/Monaco",["require","exports","VSS/Platform/Context","react","VSS/Core/Observable","VSS/Platform/Layout","VSS/Platform/Util/Url","VSSUI/Util"],(function(e,t,i,o,s,n,r,a){var d,c,l,g;d=t.Resources={},t.Resources.EscapeToLoseFocus="Lose Editor Focus",function(e){c=t.MonacoProviderProxy={};class i{constructor(e,t,i,o,s,n,r,a,d,c){this.authority=e,this.fragment=t,this.path=i,this.query=o,this.scheme=s,this.isSameRepo=n,this.fsPath=r,this.version=a,this.versionType=d,this.languageId=c}toString(){let e=`${this.scheme}://${this.authority}`;return"inmemory"==this.scheme&&(e+=`${this.path}`),""!=this.query&&(e+=`?${this.query}`,"inmemory"!=this.scheme&&(e+=`&path=${this.path}`)),""!=this.fragment&&(e+=`#${this.fragment}`),e}static isValid(e){return!(!e||!e.isMonacoUri)}static parseAsPreUri(e){const{authority:t,fragment:o,path:s,query:n,scheme:r,isSameRepo:a,fsPath:d,version:c,versionType:l,languageId:g}=e;return new i(t,o,s,n,r,a,d,c,l,g)}static parse(e){return Object.assign(new monaco.Uri,{authority:e.authority,scheme:e.scheme,path:e.path,query:e.query,fragment:e.fragment,toString:e.toString})}}t.MonacoProviderProxy.MonacoProviderProxy=class{constructor(e,t,i){this.pageContext=e,this.languageProvider=t,this.commitId=i}registerProviders(e,t,i,o){i&&(this.languageProvider.codeLensProvider={provideCodeLenses:function(e,t){return i}});for(const i in this.languageProvider)if(t[i]){let t;switch(i){case"declarationProvider":t=monaco.languages.registerDeclarationProvider(e,this),null==o||o.push(t);break;case"definitionProvider":t=monaco.languages.registerDefinitionProvider(e,this),null==o||o.push(t);break;case"documentSemanticTokensProvider":this.initializeSemanticTokensProvider(e,o);break;case"documentSymbolProvider":t=monaco.languages.registerDocumentSymbolProvider(e,this),null==o||o.push(t);break;case"foldingRangeProvider":t=monaco.languages.registerFoldingRangeProvider(e,this),null==o||o.push(t);break;case"hoverProvider":t=monaco.languages.registerHoverProvider(e,this),null==o||o.push(t);break;case"implementationProvider":t=monaco.languages.registerImplementationProvider(e,this),null==o||o.push(t);break;case"referenceProvider":t=monaco.languages.registerReferenceProvider(e,this),null==o||o.push(t);break;case"typeDefinitionProvider":t=monaco.languages.registerTypeDefinitionProvider(e,this),null==o||o.push(t);break;case"codeLensProvider":t=monaco.languages.registerCodeLensProvider(e,this.languageProvider.codeLensProvider),null==o||o.push(t);break;default:console.log(`unexpected provider type: ${i}`)}console.log(`${i} registered`)}}addDiscoverability(e,t,i){t.length>0&&e&&e(t,i)}async initializeSemanticTokensProvider(e,t){var i,o;if(this.legend=await(null===(o=null===(i=this.languageProvider)||void 0===i?void 0:i.documentSemanticTokensProvider)||void 0===o?void 0:o.getLegend()),!await this.trySetSemanticTokensAwareTheme())return;const s=monaco.languages.registerDocumentSemanticTokensProvider(e,this);null==t||t.push(s)}async trySetSemanticTokensAwareTheme(){var e,t,i,o;const s=this.pageContext.getService("IVssThemeService").getCurrentTheme().isDark,n=s?await(null===(t=null===(e=this.languageProvider)||void 0===e?void 0:e.documentSemanticTokensProvider)||void 0===t?void 0:t.getDarkThemeTokenTextStyles()):await(null===(o=null===(i=this.languageProvider)||void 0===i?void 0:i.documentSemanticTokensProvider)||void 0===o?void 0:o.getLightThemeTokenTextStyles());if(!n)return!1;const r={base:s?"vs-dark":"vs",inherit:!0,colors:{},rules:n},a="vs-semantic-aware-"+(s?"dark":"light");return monaco.editor.defineTheme(a,r),monaco.editor.setTheme(a),!0}getLegend(){return this.legend}async provideDocumentSemanticTokens(e,t,i){var o,s;const n=await this.simplifyMonacoTextModel(e);return await(null===(s=null===(o=this.languageProvider)||void 0===o?void 0:o.documentSemanticTokensProvider)||void 0===s?void 0:s.provideDocumentSemanticTokens(n,i))}releaseDocumentSemanticTokens(e){}async provideCodeLenses(e,t){var i,o;const s={uri:e.uri};return await(null===(o=null===(i=this.languageProvider)||void 0===i?void 0:i.codeLensProvider)||void 0===o?void 0:o.provideCodeLenses(s,t))}async provideDeclaration(e,t,i){var o,s;const n=await this.simplifyMonacoTextModel(e),r=await(null===(s=null===(o=this.languageProvider)||void 0===o?void 0:o.declarationProvider)||void 0===s?void 0:s.provideDeclaration(n,t,i));return await this.postProcessUris(r),r}async provideDefinition(e,t,i){var o,s;const n=await this.simplifyMonacoTextModel(e),r=await(null===(s=null===(o=this.languageProvider)||void 0===o?void 0:o.definitionProvider)||void 0===s?void 0:s.provideDefinition(n,t,i));return await this.postProcessUris(r),r}async provideDocumentSymbols(e,t){var i,o;const s=await this.simplifyMonacoTextModel(e);return await(null===(o=null===(i=this.languageProvider)||void 0===i?void 0:i.documentSymbolProvider)||void 0===o?void 0:o.provideDocumentSymbols(s,t))}async provideFoldingRanges(e,t,i){var o,s;const n=await this.simplifyMonacoTextModel(e);return await(null===(s=null===(o=this.languageProvider)||void 0===o?void 0:o.foldingRangeProvider)||void 0===s?void 0:s.provideFoldingRanges(n,t,i))}async provideHover(e,t,i){var o,s;const n=await this.simplifyMonacoTextModel(e);return await(null===(s=null===(o=this.languageProvider)||void 0===o?void 0:o.hoverProvider)||void 0===s?void 0:s.provideHover(n,t,i))}async provideImplementation(e,t,i){var o,s;const n=await this.simplifyMonacoTextModel(e),r=await(null===(s=null===(o=this.languageProvider)||void 0===o?void 0:o.implementationProvider)||void 0===s?void 0:s.provideImplementation(n,t,i));return await this.postProcessUris(r),r}async provideReferences(e,t,i,o){var s,n;const r=await this.simplifyMonacoTextModel(e),a=await(null===(n=null===(s=this.languageProvider)||void 0===s?void 0:s.referenceProvider)||void 0===n?void 0:n.provideReferences(r,t,i,o));return await this.postProcessUris(a),a}async provideTypeDefinition(e,t,i){var o,s;const n=await this.simplifyMonacoTextModel(e),r=await(null===(s=null===(o=this.languageProvider)||void 0===o?void 0:o.typeDefinitionProvider)||void 0===s?void 0:s.provideTypeDefinition(n,t,i));return await this.postProcessUris(r),r}async getGitItem(e,t,i){var o;let s;const n=e.path.split("/");let r=0;"C"===n[3][1]||null===t||(r=t.split("/").length-1);const a=n.slice(4+r).join("/");try{const e=null===(o=this.pageContext)||void 0===o?void 0:o.getService("IGitFilesService");a&&e&&(s=await e.getItemContentPromise(a,{version:t,versionOptions:0,versionType:i}))}finally{return s}}async simplifyMonacoTextModel(e){var t;let i,o="";const s=monaco.Uri.parse(e.uri);try{const n=null===(t=this.pageContext)||void 0===t?void 0:t.getService("IFilesHubViewService");if(o=n.getVersion().version,i=n.getVersion().versionType,!this.commitId){const e=await this.getGitItem(s,o,i);this.commitId=null==e?void 0:e.commitId}}finally{return{uri:s,_languageIdentifier:e._languageIdentifier,version:o,versionType:i,commitId:this.commitId}}}addModelIfNotExists(e,t,i){monaco.editor.getModel(i)||monaco.editor.createModel(e,t,i)}async postProcessUris(e){if(e instanceof Array){for(const t of e)this.convertSingleUri(t);const t=this.getUniqueUris(e);for(const e of t)await this.getFileContentForPeek(e)}else e&&(this.convertSingleUri(e),await this.getFileContentForPeek(e))}async getFileContentForPeek(e){var t;if(e.preUri.isSameRepo){const i=null===(t=this.pageContext)||void 0===t?void 0:t.getService("IGitFilesService");if(i){const t=await i.getItemContentPromise(`/${e.preUri.fsPath}`,{version:e.preUri.version,versionOptions:0,versionType:e.preUri.versionType});this.addModelIfNotExists(t.details.content,e.preUri.languageId,e.uri)}}}convertSingleUri(e){e.preUri=i.parseAsPreUri(e.preUri),e.uri=i.parse(e.preUri)}getUniqueUris(e){const t=[],i=new Set;for(const o of e){const e=o.preUri.toString();i.has(e)||(i.add(e),t.push(o))}return t}}}(),function(e){function o(e){if(null==e)return e;if(e instanceof Array)return e.map(o);if("object"==typeof e){if("string"==typeof e._regex)return new RegExp(e._regex,"string"==typeof e._flags?e._flags:void 0);for(const t in e)e[t]=o(e[t])}return e}l=t.Languages={};class s extends i.VssService{constructor(){super(...arguments),this.registeredContributionIds=new Set,this.resourceChangedCallbacks=[]}registerLanguages(){const e=this.pageContext.getService("IVssContributionService").getContributionsByType("ms.vss-features.code-editor-language");for(const t in e)this.registeredContributionIds.has(t)||(this.registeredContributionIds.add(t),this.registerLanguage(t,e[t]))}registerJsonSchemas(){const e=this.pageContext.getService("IVssContributionService"),t=e.getContributionsByType("ms.vss-features.code-editor-json-schema");for(const e in t)this.registeredContributionIds.has(e)||(this.registeredContributionIds.add(e),this.registerJsonSchema(e,t[e]));const i=e.getContributionsByType("ms.vss-features.code-editor-json-schema-provider");for(const e in i)this.registeredContributionIds.has(e)||(this.registeredContributionIds.add(e),this.loadDynamicSchemaProvider(e))}async registerLanguageProviders(e,t,i,o,s){const n=this.pageContext.getService("IVssContributionService"),r=n.getContributionsByType("ms.vss-features.code-editor-navigation-provider");for(const a in r){this.registeredContributionIds.has(a)||this.registeredContributionIds.add(a);const r=await n.getService(a);this.registerLanguageProvider(a,r,e,t,i,o,s)}}async getGitItem(e){var t,i;let o=null,s=null;const[,n]=e.split(/GB(.+)/);let r;if(n&&([,s,o]=n.split(/([^\/]+)\/(.+)/),s&&o)){const e=null===(t=this.pageContext)||void 0===t?void 0:t.getService("IGitFilesService");let s="",n=0;try{const t=null===(i=this.pageContext)||void 0===i?void 0:i.getService("IFilesHubViewService");s=t.getVersion().version,n=t.getVersion().versionType}catch(e){return void console.log("File service not available for the file - Indexing failure")}finally{return r=await e.getItemContentPromise(o,{version:s,versionOptions:0,versionType:n}),r}}console.log("Failed to parse the file, Indexing will not be available")}registerLanguage(e,t){try{monaco.languages.register({id:e,aliases:t.aliases,extensions:t.extensions,filenamePatterns:t.filenamePatterns,filenames:t.filenames,firstLine:t.firstLine,mimetypes:t.mimetypes}),monaco.languages.onLanguage(e,(()=>{t.configuration&&monaco.languages.setLanguageConfiguration(e,o(t.configuration)),t.language&&monaco.languages.setMonarchTokensProvider(e,o(t.language))}))}catch(t){console.error(`Failed to register monaco language contribution "${e}". Exception: ${t&&t.message}`)}}registerJsonSchema(e,t){try{const e=monaco.languages.json.jsonDefaults;e.setDiagnosticsOptions(Object.assign(Object.assign({},e.diagnosticsOptions),{schemas:[...(e.diagnosticsOptions.schemas||[]).filter((e=>e.uri!==t.uri)),t]}))}catch(t){console.error(`Failed to register json schema contribution "${e}". Exception: ${t&&t.message}`)}}async registerLanguageProvider(e,t,i,o,s,n,r){const a={cpp:"cpp",cs:"csharp",vb:"csharp",h:"cpp",java:"java",js:"javascript",jsx:"javascript",rs:"rust",ts:"typescript",tsx:"typescript"};if(i&&o&&-1!=t.availableLanguages.indexOf(a[i])&&t.getFileCapabilities)try{const e=await this.parseFileUrl(o),d=await t.getFileCapabilities(e.relativeFilePath,e.commitId,!0);if(!d)return;const l=t.getCodeLensContext?t.getCodeLensContext():void 0,g=a[i],h=new c.MonacoProviderProxy(this.pageContext,t.providers,e.commitId);if(h.registerProviders(g,d,l,s),t.getKnownIdentifiers&&n){const i=await t.getKnownIdentifiers(e.relativeFilePath,e.commitId,!0);h.addDiscoverability(n,i,r)}}catch(t){console.error(`Failed to register language providers contribution "${e}". Exception: ${t&&t.message}`)}}async loadDynamicSchemaProvider(e){try{const t=this.pageContext.getService("IVssContributionService"),i=await t.getService(e);i&&i.register({getJsonSchemas:()=>monaco.languages.json.jsonDefaults.diagnosticsOptions.schemas||[],onResourceChanged:e=>{this.addResourceChangedCallback(e)},registerJsonSchemas:t=>{for(const i of t)this.registerJsonSchema(e,i)}})}catch(t){console.error(`Failed to load json schema provider "${e}". Exception: ${t&&t.message}`)}}addResourceChangedCallback(e){this.resourceChangedCallbacks.push(e),1===this.resourceChangedCallbacks.length&&(monaco.editor.onDidChangeModelLanguage((({model:e})=>this.triggerResourceChangedCallbacks(e))),monaco.editor.onDidCreateModel((e=>{this.triggerResourceChangedCallbacks(e),e.onDidChangeContent((()=>this.triggerResourceChangedCallbacks(e)))})));for(const t of monaco.editor.getModels())this.triggerResourceChangedCallback(t,e)}triggerResourceChangedCallbacks(e){for(const t of this.resourceChangedCallbacks)this.triggerResourceChangedCallback(e,t)}triggerResourceChangedCallback(e,t){t({uri:e.uri.toString(),getContent:()=>e.getValue(),languageId:e.getModeId()})}async parseFileUrl(e){const t=e.split("/"),i=t[4],o=t[5],s=o.slice(2),n=t.slice(6).join("/"),r="C"==o[1];let a;if(r)a=s;else{const t=await this.getGitItem(e);a=null==t?void 0:t.commitId}return{repoId:i,ref:s,isCommit:r,relativeFilePath:n,commitId:a}}}i.Services.add("IMonacoLanguageExtensionService",{serviceFactory:s}),t.Languages.registerLanguageExtensions=function(e,t,i,o,s){const n=e.getService("IMonacoLanguageExtensionService"),r=e.getService("IVssThemeService").getCurrentTheme().isDark?"vs-dark":"vs";n.registerLanguages(),n.registerJsonSchemas(),n.registerLanguageProviders(t,i,o,s,r)}}(),function(e){t.MonacoEnvironment={};const o={css:"debug/css.worker.c86148caedc94d602a6a.js",default:"debug/editor.worker.7e714a99b29b0379c4e6.js",html:"debug/html.worker.653b0f68772df1d5880a.js",json:"debug/json.worker.534387640ce41c5252ab.js",ts:"debug/ts.worker.42f1c4afdcba40b088a4.js"},s={css:"min/css.worker.17ac4ac3a91f7217c392.js",default:"min/editor.worker.3a60c00f9ddfe99d7c6a.js",html:"min/html.worker.3fce5259dd5759ea6b78.js",json:"min/json.worker.6b999ac7a329266e6366.js",ts:"min/ts.worker.c3d813411da82905b10f.js"},n=[{token:"debug-token",foreground:"9966FF"},{token:"error-token",foreground:"E92D3D"},{token:"info-token",foreground:"888888"},{token:"warn-token",foreground:"FF8C00"},{token:"command-token",foreground:"0078D4"},{token:"section-token",foreground:"1FAE3E"}],r=[{token:"comment",foreground:"007200"},{token:"number",foreground:"007200"},...n],a=[{token:"",foreground:"FFFFFF",background:"000000"},{token:"comment",foreground:"13A10E"},{token:"number",foreground:"13A10E"},...n],d=[...n];class c extends i.VssService{constructor(){super(...arguments),this.definedThemes=new Set}setupMonacoEnvironment(e,t,i,n){window.MonacoEnvironment||(window.MonacoEnvironment={getWorkerUrl:(e,t)=>{const i=this.pageContext.getService("IVssPageService").getData().isDebugMode?o:s;let n;n="json"===t?i.json:"css"===t||"scss"===t?i.css:"html"===t?i.html:"typescript"===t||"javascript"===t?i.ts:i.default;return window.__extensionsLocalStaticRoot+"ms.vss-features/monaco-editor/modules/vss-monaco-editor/dist/"+n}}),(0,l.registerLanguageExtensions)(this.pageContext,e,t,i,n)}defineEditorTheme(e){e=e||"vs",window.navigator.userAgent.toLowerCase().indexOf("edge")>=0&&window.matchMedia&&window.matchMedia("(-ms-high-contrast:active)").matches&&(e="vs");const t="tfs-extension-"+e;if(!this.definedThemes.has(t)){let i=[];"vs"===e?i=r:"vs-dark"===e?i=a:"hc-black"===e&&(i=d);const o={base:e,inherit:!0,rules:i,colors:{}};monaco.editor.defineTheme(t,o),this.definedThemes.add(t)}return t}}i.Services.add("IMonacoEnvironmentService",{serviceFactory:c})}(),function(e){g=t[e]={};const i={fontSize:12,lineNumbersMinChars:5};class c extends n.VssComponent{constructor(e,t){super(e,t),this.containerRef=o.createRef(),this.actionDisposables=[],this.widgetDisposables=[],this.isContentUserEdited=!1,this.isContentChangeFromProps=!1,this.throttledContentChangedTimeout=null,this.onThemeUpdated=()=>{if(!this.props.monacoTheme){const e=this.getEditorTheme();monaco.editor.setTheme(e)}},this.onWidgetsChange=e=>{for(const t of e.removedItems||[]){const e=this.widgetDisposables.findIndex((e=>e.id===t.widgetId));if(e>=0){this.widgetDisposables.splice(e,1).forEach((e=>e.dispose()))}}this.addEditorWidgets(this.editor,e.addedItems||[])},this.onResize=()=>{this.editor&&this.editor.layout()};this.context.pageContext.getService("IMonacoEnvironmentService").setupMonacoEnvironment(this.props.fileExtension,this.props.fileUrl,this.actionDisposables,this.props.delayedHighlighting)}render(){return o.createElement("div",{ref:this.containerRef,className:(0,a.css)("vss-base-editor",this.props.className)})}componentDidMount(){if(super.componentDidMount(),this.containerRef.current){const e=this.getEditorOptions();this.editor=this.createEditor(this.containerRef.current,e);const t="function"==typeof this.props.actions?this.props.actions(this.editor)||[]:this.props.actions||[];this.props.elementToFocusOnEscape&&t.push({id:"vssf-escape",label:d.EscapeToLoseFocus,keybindings:[monaco.KeyCode.Escape],precondition:"!suggestWidgetVisible && !markersNavigationVisible && !parameterHintsVisible && !findWidgetVisible",run:e=>{const t=document.activeElement,i=this.props.elementToFocusOnEscape?document.querySelector(this.props.elementToFocusOnEscape):null;i&&i.focus&&!i.hasAttribute("disabled")&&!i.classList.contains("disabled")&&"hidden"!==i.style.visibility&&"none"!==i.style.display&&i.focus(),document.activeElement===t&&t&&t.blur&&t.blur()}}),this.addEditorActions(t),this.isContentChangeFromProps=!0,this.setEditorContent(this.editor),this.sendThrottledContentChangedEvent(),this.isContentChangeFromProps=!1;const i=this.props.widgets;i&&(this.addEditorWidgets(this.editor,s.ObservableLike.isObservable(i)?i.value:i),s.ObservableLike.subscribe(i,this.onWidgetsChange)),this.props.editorRef&&"function"==typeof this.props.editorRef&&this.props.editorRef(this.editor)}window.addEventListener("resize",this.onResize)}componentDidUpdate(e,t){if(super.componentDidUpdate(e,t),this.editor){if(this.props.lazyVisualContentChange||(this.isContentChangeFromProps=!0,this.updateEditorContent(this.editor),this.isContentChangeFromProps=!1),this.props.monacoTheme&&this.props.monacoTheme!==e.monacoTheme){const e=this.getEditorTheme();monaco.editor.setTheme(e)}this.editor.layout()}}componentWillUnmount(){super.componentWillUnmount(),this.containerRef.current&&(this.containerRef.current.innerHTML=""),this.actionDisposables.forEach((e=>e.dispose())),this.actionDisposables=[],this.widgetDisposables.forEach((e=>e.dispose())),this.widgetDisposables=[],s.ObservableLike.unsubscribe(this.props.widgets,this.onWidgetsChange),delete this.editor,window.removeEventListener("resize",this.onResize)}sendThrottledContentChangedEvent(){if(this.props.onContentUpdated)if(this.isContentChangeFromProps)this.isContentUserEdited=!1,this.props.onContentUpdated(this.editor);else{this.throttledContentChangedTimeout&&window.clearTimeout(this.throttledContentChangedTimeout);const e=this.isContentUserEdited?300:0;this.throttledContentChangedTimeout=window.setTimeout((()=>{this.isContentUserEdited=!0,this.editor&&this.props.onContentUpdated&&this.props.onContentUpdated(this.editor)}),e)}}createEditorModel(e,t,i){let o,s;if(t)o=t;else if(i){-1===i.indexOf("://")&&(i=(0,r.combineUrlPaths)("inmemory://model",i)),s=monaco.Uri.parse(i);const t=monaco.editor.getModel(s);if(t){if(t.getValue()===e)return t;t.dispose()}}return monaco.editor.createModel(e,o,s)}addEditorWidgets(e,t){if(e){const i=e.getEditorType()===monaco.editor.EditorType.IDiffEditor,o=i?e:void 0,s=i?o.getModifiedEditor():e;for(const e of t){const t=e.addWidget(s,o);if(t&&this.widgetDisposables.push({dispose:()=>e.removeWidget(t,s,o),id:e.widgetId}),o){const t=o.getOriginalEditor(),i=e.addWidget(t,o);i&&this.widgetDisposables.push({dispose:()=>e.removeWidget(i,t,o),id:e.widgetId})}}}}getEditorOptions(){return Object.assign(Object.assign(Object.assign({scrollBeyondLastLine:!this.props.editorOptions||!this.props.editorOptions.readOnly,theme:this.getEditorTheme(),mouseWheelZoom:!0,autoDetectHighContrast:!1},i),this.props.editorOptions),{"semanticHighlighting.enabled":!0})}getEditorTheme(){let e=this.props.monacoTheme;if(!e){const t=this.context.pageContext.getService("IVssThemeService");e=t.getCurrentTheme().isDark?"vs-dark":"vs",this.themeListenerAdded||(this.themeListenerAdded=!0,t.subscribe(this.onThemeUpdated),this.addUnmountCallback((()=>t.unsubscribe(this.onThemeUpdated))))}return this.context.pageContext.getService("IMonacoEnvironmentService").defineEditorTheme(e)}addEditorActions(e){if(this.editor){const t=this.editor.getEditorType()===monaco.editor.EditorType.IDiffEditor,i=t?this.editor:void 0,o=t?i.getModifiedEditor():this.editor;for(const s of e)this.actionDisposables.push(o.addAction(s)),t&&this.actionDisposables.push(i.getOriginalEditor().addAction(s))}}}t[e].EditorBase=c}("ComponentsEditorBase"),function(e){t[e]={};class i extends g.EditorBase{constructor(){super(...arguments),this.diffComputed=!1}setEditorContent(e){if(e&&void 0!==this.props.originalContent&&this.props.modifiedContent){const t=this.createEditorModel(this.props.modifiedContent.content,this.props.modifiedContent.contentType,this.props.modifiedContent.contentUri);e.setModel({original:this.createEditorModel(this.props.originalContent,t.getModeId(),void 0),modified:t}),e.setPosition({lineNumber:1,column:1}),e.layout()}}createEditor(e,t){const i=monaco.editor.createDiffEditor(e,t);return this.props.onContentUpdated&&i.getModifiedEditor().onDidChangeModelContent((()=>this.sendThrottledContentChangedEvent())),i}addEditorWidgets(e,t){e&&(this.diffComputed?super.addEditorWidgets(e,t):e.onDidUpdateDiff((()=>{this.diffComputed||(this.diffComputed=!0,super.addEditorWidgets(e,t))})))}updateEditorContent(e){if(e){const t=e.getModel();t&&this.props.modifiedContent&&(this.props.modifiedContent&&t.modified.getValue()!==this.props.modifiedContent.content&&t.modified.setValue(this.props.modifiedContent.content),this.props.originalContent&&t.original.getValue()!==this.props.originalContent&&t.original.setValue(this.props.originalContent))}}}t[e].DiffEditor=i}("ComponentsDiffEditor"),function(e){t.ComponentsEditor={};class i extends g.EditorBase{setEditorContent(e){if(e&&this.props.content){const t=this.createEditorModel(this.props.content.content,this.props.content.contentType,this.props.content.contentUri);e.setModel(t),e.setPosition({lineNumber:1,column:1}),e.layout()}}createEditor(e,t){const i=monaco.editor.create(e,t);return this.props.onContentUpdated&&i.onDidChangeModelContent((()=>this.sendThrottledContentChangedEvent())),i}updateEditorContent(e){if(e&&this.props.content){const t=e.getModel();t&&t.getValue()!==this.props.content.content&&t.setValue(this.props.content.content)}}}t.ComponentsEditor.Editor=i,i.componentTypeName="code-editor",n.VssComponent.register(i.componentTypeName,i)}()}),["Resources","MonacoProviderProxy","Languages","MonacoEnvironment","Components/EditorBase","Components/DiffEditor","Components/Editor"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-features.monaco-editor"}}));