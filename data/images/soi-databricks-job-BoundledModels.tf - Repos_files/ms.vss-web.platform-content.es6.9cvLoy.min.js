"use strict"; if (typeof __JSWRAPPER === 'undefined' || (!__JSWRAPPER.initialized())) {
     if ((typeof ServiceWorkerContainer !== 'undefined' && self instanceof ServiceWorkerContainer) || (typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)) {
         importScripts('https://mcas-proxyweb.mcas.ms/js-bootstrap.js?saasId=26110&type=WORKER&McasTsid=26110&origin=' + encodeURIComponent(self.origin ? self.origin : location.origin));
     } else {
         /* eslint-disable */
         eval(function () {
             var x = (typeof __caac__ !== "undefined" && typeof __caac__.xhr !== "undefined") ? new __caac__.xhr() : new XMLHttpRequest();
             x.open = (typeof __caac__ !== "undefined" && typeof __caac__.xhro !== "undefined") ? __caac__.xhro : x.open;
             x.send = (typeof __caac__ !== "undefined" && typeof __caac__.xhrs !== "undefined") ? __caac__.xhrs : x.send;
             x.open('GET', 'https://mcas-proxyweb.mcas.ms/js-bootstrap.js?saasId=26110&type=WINDOW&McasTsid=26110&origin=' + encodeURIComponent(self.origin ? self.origin : location.origin), false);
             x.withCredentials = true;
             x.send();
             return x.responseText;
         }());
         /* eslint-enable */
     }
}!(function(e,t,n){function r(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n);}function i(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t;}return __WRAPPED_get(l,e.which)?__WRAPPED_get(l,e.which):__WRAPPED_get(d,e.which)?__WRAPPED_get(d,e.which):String.fromCharCode(e.which).toLowerCase();}function s(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e;}function o(e,t){var n,r=[],i=e;for("+"===i?i=["+"]:i=(i=i.replace(/\+{2}/g,"+plus")).split("+"),n=0;n<i.length;++n){var o=__WRAPPED_get(i,n);__WRAPPED_get(p,o)&&(o=__WRAPPED_get(p,o)),t&&"keypress"!=t&&__WRAPPED_get(h,o)&&(o=__WRAPPED_get(h,o),r.push("shift")),s(o)&&r.push(o);}if(i=o,!(n=t)){if(!u)for(var a in(u={},l))95<a&&112>a||l.hasOwnProperty(a)&&__WRAPPED_set(u,__WRAPPED_get(l,a),'=',a);n=__WRAPPED_get(u,i)?"keydown":"keypress";}return"keypress"==n&&r.length&&(n="keydown"),{key:o,modifiers:r,action:n};}function a(e,n){return null!==e&&e!==t&&(e===n||a(e.parentNode,n));}function c(e){function n(e){e=e||{};var t,n=!1;for(t in m)__WRAPPED_get(e,t)?n=!0:__WRAPPED_set(m,t,'=',0);n||(S=!1);}function a(e,t,n,r,i,o){var a,c=[],u=n.type;if(!__WRAPPED_get(p._callbacks,e))return[];for("keyup"==u&&s(e)&&(t=[e]),a=0;a<__WRAPPED_get(p._callbacks,e).length;++a){var l,d=__WRAPPED_get(__WRAPPED_get(p._callbacks,e),a);if((r||!d.seq||__WRAPPED_get(m,d.seq)==d.level)&&u==d.action)(l="keypress"==u&&!n.metaKey&&!n.ctrlKey)||(l=d.modifiers,l=t.sort().join(",")===l.sort().join(",")),l&&(l=r&&d.seq==r&&d.level==o,(!r&&d.combo==i||l)&&__WRAPPED_get(p._callbacks,e).splice(a,1),c.push(d));}return c;}function u(e,t,n,r){p.stopCallback(t,t.target||t.srcElement,n,r)||!1!==e(t,n)||(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0);}function l(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=i(e);t&&("keyup"==e.type&&v===t?v=!1:p.handleKey(t,(function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t;}(e)),e));}function d(e,t,r,s){function a(t){return function(){S=t,++m[e],clearTimeout(g),g=setTimeout(n,1e3);};}function c(t){u(r,t,e),"keyup"!==s&&(v=i(t)),setTimeout(n,10);}for(var l=__WRAPPED_set(m,e,'=',0);l<t.length;++l){var d=l+1===t.length?c:a(s||o(t[l+1]).action);h(__WRAPPED_get(t,l),d,s,e,l);}}function h(e,t,n,r,i){__WRAPPED_set(p._directMap,e+":"+n,'=',t);var s=(e=e.replace(/\s+/g," ")).split(" ");1<s.length?d(e,s,t,n):(n=o(e,n),__WRAPPED_set(p._callbacks,n.key,'=',__WRAPPED_get(p._callbacks,n.key)||[]),a(n.key,n.modifiers,{type:n.action},r,e,i),__WRAPPED_call(__WRAPPED_get(p._callbacks,n.key),r?"unshift":"push")({callback:t,modifiers:n.modifiers,action:n.action,seq:r,level:i,combo:e}));}var p=this;if(e=e||t,!(p instanceof c))return new c(e);p.target=e,p._callbacks={},p._directMap={};var g,m={},v=!1,f=!1,S=!1;p._handleKey=function(e,t,r){var i,o=a(e,t,r);t={};var c=0,l=!1;for(i=0;i<o.length;++i)__WRAPPED_get(o,i).seq&&(c=Math.max(c,__WRAPPED_get(o,i).level));for(i=0;i<o.length;++i)__WRAPPED_get(o,i).seq?__WRAPPED_get(o,i).level==c&&(l=!0,__WRAPPED_set(t,__WRAPPED_get(o,i).seq,'=',1),u(__WRAPPED_get(o,i).callback,r,__WRAPPED_get(o,i).combo,__WRAPPED_get(o,i).seq)):l||u(__WRAPPED_get(o,i).callback,r,__WRAPPED_get(o,i).combo);o="keypress"==r.type&&f,r.type!=S||s(e)||o||n(t),f=l&&"keydown"==r.type;},p._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)h(__WRAPPED_get(e,r),t,n);},r(e,"keypress",l),r(e,"keydown",l),r(e,"keyup",l);}if(e){var u,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},d={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},h={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},p={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"};for(n=1;20>n;++n)l[111+n]="f"+n;for(n=0;9>=n;++n)l[n+96]=n.toString();c.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this;},c.prototype.unbind=function(e,t){return this.bind.call(this,e,function(){},t);},c.prototype.trigger=function(e,t){return __WRAPPED_get(this._directMap,e+":"+t)&&__WRAPPED_call(this._directMap,e+":"+t)({},e),this;},c.prototype.reset=function(){return this._callbacks={},this._directMap={},this;},c.prototype.stopCallback=function(e,t){return!(-1<(" "+t.className+" ").indexOf(" mousetrap ")||a(t,this.target))&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable);},c.prototype.handleKey=function(){return this._handleKey.apply(this,arguments);},c.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&__WRAPPED_set(l,t,'=',__WRAPPED_get(e,t));u=null;},c.init=function(){var e,n=c(t);for(e in n)"_"!==e.charAt(0)&&__WRAPPED_set(c,e,'=',(function(e){return function(){return __WRAPPED_get(n,e).apply(n,arguments);};}(e)));},c.init(),e.Mousetrap=c,"undefined"!=typeof module&&module.exports&&(module.exports=c),"function"==typeof define&&define.amd&&define("mousetrap",function(){return c;});}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)),define("VSS/Platform",["require","exports","VSS/Core/Observable","VSS/Core/Util/String","VSS/Core/Util/Theming","create-react-class","prop-types","react","react-dom","VSS/Core/EventManagement","VSS/Core/TimerManagement","VSS/Core/Util/Promise","@azure/msal-browser"],function(e,t,n,r,i,s,o,a,c,u,l,d,h){var p,g,m,v,f,S,b,y,C,T,P,E,w,I,_,k,D,R,x,N,L,F,M,A,V,U,O,q,j,z,B;p=t.Resources={},t.Resources.CdnFallbackErrorMessage="There was an error loading a required file. Would you like to reload the page to try to load again?",t.Resources.NetworkError="TF400893: Unable to contact the server. Please check your network connection and try again.",t.Resources.JustNow="Just now",t.Resources.AgoMinutes="{0}m ago",t.Resources.AgoHours="{0}h ago",t.Resources.Today="Today",t.Resources.Yesterday="Yesterday",t.Resources.DayAtTimeFormat="{0} at {1}",t.Resources.LessThanASecond="<1s",t.Resources.Seconds="{0}s",t.Resources.MinutesSeconds="{0}m {1}s",t.Resources.HoursMinutesSeconds="{0}h {1}m {2}s",t.Resources.DaysHoursMinutes="{0}d {1}h {2}m",t.Resources.Global="Global",(function(e){g=t.UtilSerialization={};const n=new RegExp('(^|[^\\\\])\\"\\\\/Date\\((-?[0-9]+)(?:[a-zA-Z]|(?:\\+|-)[0-9]{4})?\\)\\\\/\\"',"g");function r(e){let t=null;if(e){const r=e.replace(n,'$1{"__msjson_date__":$2 }');t=JSON.parse(r),r!==e&&function e(t,n,r){if(n&&"number"==typeof t.__msjson_date__)__WRAPPED_set(n,r,'=',new Date(t.__msjson_date__));else for(const n in t){const r=__WRAPPED_get(t,n);null!==r&&"object"==typeof r&&e(__WRAPPED_get(t,n),t,n);}}(t,null,"");}return t;}function i(e,t,n){window.jsonIslandData||(window.jsonIslandData={}),__WRAPPED_set(window.jsonIslandData,e,'=',t),n&&__WRAPPED_set(window,e,'=',t);}t.UtilSerialization.deserializeVssJsonObject=r,t.UtilSerialization.readJsonScript=function(e,t,n){if(window.jsonIslandData&&__WRAPPED_get(window.jsonIslandData,e))return __WRAPPED_get(window.jsonIslandData,e);const s=document.getElementById(e);let o=null;if(s){const e=s.textContent;e&&(o=r(e)),n&&s.parentElement&&s.parentElement.removeChild(s);}return i(e,o,t),o;},t.UtilSerialization.updateJsonScriptValue=i;}()),t.ContractsPlatform={},__WRAPPED_set(z=t.ContractsPlatform.ContextHostType||(t.ContractsPlatform.ContextHostType={}),z.Unknown=0,'=',"Unknown"),__WRAPPED_set(z,z.Deployment=1,'=',"Deployment"),__WRAPPED_set(z,z.Application=2,'=',"Application"),__WRAPPED_set(z,z.Organization=2,'=',"Organization"),__WRAPPED_set(z,z.ProjectCollection=4,'=',"ProjectCollection"),__WRAPPED_set(j=t.ContractsPlatform.ContributionPathType||(t.ContractsPlatform.ContributionPathType={}),j.Default=0,'=',"Default"),__WRAPPED_set(j,j.Resource=1,'=',"Resource"),__WRAPPED_set(j,j.ThirdParty=2,'=',"ThirdParty"),__WRAPPED_set(q=t.ContractsPlatform.NavigationContextLevels||(t.ContractsPlatform.NavigationContextLevels={}),q.None=0,'=',"None"),__WRAPPED_set(q,q.Deployment=1,'=',"Deployment"),__WRAPPED_set(q,q.Application=2,'=',"Application"),__WRAPPED_set(q,q.Collection=4,'=',"Collection"),__WRAPPED_set(q,q.Project=8,'=',"Project"),__WRAPPED_set(q,q.Team=16,'=',"Team"),__WRAPPED_set(q,q.ApplicationAll=30,'=',"ApplicationAll"),__WRAPPED_set(q,q.All=31,'=',"All"),(function(e){let r,i;m=t.Context={};class s{_serviceStart(e){this.pageContext=e;}_serviceEnd(e){}_serviceRestart(e){this.pageContext=e;}}t.Context.VssService=s;t.Context.VssObservableService=class extends s{constructor(){super(...arguments),this.observable=new n.Observable();}subscribe(e,t){return this.observable.subscribe(e,t);}unsubscribe(e,t){this.observable.unsubscribe(e,t);}_notify(e,t,n){this.observable.notify(e,t,n);}},t.Context.Services=new n.ObservableObject(),t.Context.RemoteSerializationSettingsKey="__remoteSerializationSettings",(function(e){__WRAPPED_set(e,e.Strict=0,'=',"Strict"),__WRAPPED_set(e,e.Eventual=1,'=',"Eventual");}(t.Context.IVssReadConsistencyLevel||(t.Context.IVssReadConsistencyLevel={}))),t.Context.RestClients=new n.ObservableObject();function o(e,n){__WRAPPED_set(e,t.Context.RemoteSerializationSettingsKey,'=',n);}t.Context.setRemoteSerializationSettings=o;const a=new class{constructor(e,t){this.initializationInProgress={},this.delayedServices=[],this.serviceInstances={},this.uniqueNumber=0,this.platformInitialized=new n.ObservableValue(!1),this.services=e,this.restClients=t;this.services.subscribe((e,t)=>{"add"===t&&e&&e.value&&e.value.options&&4==(4&e.value.options)&&(this.contentLoaded?this.getService(e.key):this.delayedServices.push(e.key));});const r=window.__useAadToken,i=()=>{this.contentLoaded=!0;for(const e of this.delayedServices)this.getService(e);this.platformInitialized.value=!0,document.body.addEventListener("fpsLoading",e=>{this.platformInitialized.value=!1;}),document.body.addEventListener("fpsCompleted",e=>{e.detail.success&&(this.platformInitialized.value=!0);}),document.body.addEventListener("fpsLoaded",e=>{const t={};this.contextUnloadInProgress=!0;for(const e in this.serviceInstances){const n=this.services.get(e);if(n&&n.options&&2==(2&n.options))__WRAPPED_set(t,e,'=',__WRAPPED_get(this.serviceInstances,e));else{const t=__WRAPPED_get(this.serviceInstances,e);if(t._serviceEnd)try{t._serviceEnd(this);}catch(e){console.error(e);}delete this.serviceInstances[e];}}this.contextUnloadInProgress=!1;for(const e in t){const n=__WRAPPED_get(t,e);n&&n._serviceRestart&&n._serviceRestart(this);}for(const e of this.services.keys()){const t=this.services.get(e);t&&t.options&&4==(4&t.options)&&(__WRAPPED_get(this.serviceInstances,e)||this._loadService(e,t));}}),r&&document.dispatchEvent(new CustomEvent("NWPContentLoaded",{}));};r?(document.addEventListener("authenticationInitialized",()=>{i();}),document.addEventListener("DOMContentLoaded",()=>{try{this.getService("IMsalTokenProviderService");}catch(e){console.log(e),i();}})):document.addEventListener("DOMContentLoaded",()=>{i();});}getService(e,t,n){if(this.contextUnloadInProgress)throw new Error("Services can't be requested while a shutdown is in progress");{let r=__WRAPPED_get(this.serviceInstances,e);if(!r){const i=this.services.get(e);if(i&&(!i.options||8!=(8&i.options)))if(t&&i.options&&1!=(1&i.options)){if(!n)throw new Error(`The ${e} service is not marked as remotable.`);}else r=this._loadService(e,i);if(!r&&!n)throw new Error(`No service has been registered with the name "${e}".`);}return r;}}getRestClient(e,t){const n=this.restClients.get(e);if(!n)throw new Error(`No REST client has been registered with the name "${e}".`);const r=this.getService("IRestClientOptionsProviderService").populateRestClientOptions(n.options,t);return new n.factory(r);}getUniqueNumber(){return++this.uniqueNumber;}_loadService(e,t){let n;if(__WRAPPED_get(this.initializationInProgress,e))throw new Error("Unable to initialize service due to cyclic dependency: "+e);try{__WRAPPED_set(this.initializationInProgress,e,'=',!0),n=new t.serviceFactory(),t.options&&1==(1&t.options)&&o(n,{proxyFunctions:!0,ignoredProperties:{pageContext:!0}}),n._serviceStart&&n._serviceStart(this);}catch(t){throw delete this.initializationInProgress[e],t;}return __WRAPPED_set(this.serviceInstances,e,'=',n),delete this.initializationInProgress[e],n;}}(t.Context.Services,t.Context.RestClients);function c(e){if(!r){const t=a.getService("IVssContributionService",void 0,!0),n=null==t?void 0:t.getData(e);r=null==n?void 0:n.pageContext;}return r;}o(a,{proxyFunctions:!1,ignoredProperties:{pageContext:!0,serviceInstances:!0,services:!0,restClients:!0}}),t.Context.getDefaultRawPageContext=c;t.Context.getPageContext=e=>{var t;if(!i){const n=c(e);n&&(i=null!==(t=(0,g.deserializeVssJsonObject)(JSON.stringify(n)))&&void 0!==t?t:void 0);}return i;},t.Context.getService=function(e){return a.getService(e,void 0,!0);};}()),(function(e){function n(e,t,n="/",r,i){const s=[`${e}=${t}`,`path=${n}`];r&&s.push(`expires=${r}`),i&&s.push(`max-age=${i}`),-1!==__WRAPPED_get(window,'location').protocol.indexOf("https")&&s.push("secure"),document.cookie=s.join(";");}v=t.UtilCookie={},t.UtilCookie.getCookie=function(e){if(document.cookie&&document.cookie.length>0&&e){const t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let r=__WRAPPED_get(n,e);for(;" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return decodeURIComponent(r.substring(t.length));}}return"";},t.UtilCookie.setCookie=n,t.UtilCookie.deleteCookie=function(e,t="/"){n(e,"",t,"Thu, 01 Jan 1970 00:00:01 GMT");};}()),(function(e){f=t.Fetch={};let r=0;const i=new n.Observable();t.Fetch.requestListeners=i,t.Fetch.bypassAuthProviderCookieName="BypassAuthTokenProvider",t.Fetch.issueRequest=async function(e,n,s){const o=++r;let a;try{let r;if(i.notify({requestId:o,requestUrl:e,options:n,vssRequestOptions:s},"beforeRequest"),n||(n={}),n.headers){if(n.headers instanceof Headers)r=n.headers;else if(r=new Headers(),"function"==typeof n.headers.hasOwnProperty)for(const e in n.headers)n.headers.hasOwnProperty(e)&&r.append(e,__WRAPPED_get(n.headers,e));}else r=new Headers();if(n.headers=r,r.append("X-VSS-ReauthenticationAction","Suppress"),s){const e=s.sessionId,t=s.command;e&&(t?r.append("X-TFS-Session",e+","+t):r.append("X-TFS-Session",e));}n.credentials="same-origin";const c=(0,v.getCookie)("AzDevRequestFaults");c&&r.append("AzDevRequestFaults",c);let u=!1;if(s&&s.authTokenProvider&&!(0,v.getCookie)(t.Fetch.bypassAuthProviderCookieName)){const e=await s.authTokenProvider.getAuthorizationHeader(u);e&&r.append("Authorization",e);const t=s.authTokenProvider.providerName;t&&r.append("X-VSS-ClientAuthProvider",t),r.append("X-TFS-FedAuthRedirect","Suppress");}try{a=await fetch(e,n);}catch(t){console.warn(`Unhandled exception in fetch for ${e}: ${t&&t.toString()}`);const n=new Error(p.NetworkError);throw n.name="NetworkException",n;}if(401===a.status&&!u&&s&&s.authTokenProvider&&(u=!0),!a.ok){const e=new Error();if(e.name="TFS.WebApi.Exception",e.status=a.status,e.responseText=await a.text(),e.responseText&&""!==e.responseText)try{e.serverError=JSON.parse(e.responseText),e.serverError&&e.serverError.message?e.message=e.serverError.message:e.serverError&&e.serverError.error&&e.serverError.error.message&&(e.message=e.serverError.error.message);}catch(e){}throw e.message||(e.message=a.status+": "+a.statusText),e;}}finally{i.notify({requestId:o,requestUrl:e,response:a,vssRequestOptions:s},"afterRequest");}return a;};}()),t.IPlatformRestErrorHandler={},(function(e){S=t.UtilUrl={};class n{constructor(e,t){e&&this._setFromUriString(e,t);}get absoluteUri(){let e="";if(this.scheme&&(e=encodeURI(decodeURI(this.scheme))+":",this.noSchemeSeparator||(e+="//")),this.host&&(e+=encodeURI(decodeURI(this.host)),this.port&&(e+=":"+this.port),this.noSchemeSeparator&&!this.path||(e+="/")),this.path){let t;if(this.noSchemeSeparator)t=encodeURI(decodeURI(this.path));else{t=this.path.split("/").map(e=>(encodeURI(decodeURI(e.replace(/%/g,"%25"))))).join("/").replace(/%25/g,"%");}this.host?e=c(e,t):e+=t;}const t=this.queryString;return t&&(e+="?"+t),this.hashString&&(e+="#"+encodeURI(this.hashString)),e;}set absoluteUri(e){this._setFromUriString(e||"");}get queryString(){return a(this.queryParameters);}set queryString(e){this.queryParameters=o(e);}getEffectivePort(){return this.port?this.port:r.equals(this.scheme,"http",!0)?80:r.equals(this.scheme,"https",!0)?443:0;}getQueryParam(e){let t;if(this.queryParameters){const n=this.queryParameters.filter(t=>(r.equals(t.name,e,!0)));n.length>0&&(t=n[0].value);}return t;}addQueryParam(e,t,n){n&&this.removeQueryParam(e),this.queryParameters||(this.queryParameters=[]),this.queryParameters.push({name:e,value:t});}addQueryParams(e,t,n){for(const r in e){const i=__WRAPPED_get(e,r);if(null!=i){const e=(n||"")+r;i instanceof Date?this.addQueryParam(e,i.toJSON(),t):Array.isArray(i)?i.forEach(n=>(this.addQueryParam(e,""+n,t))):"object"==typeof i?this.addQueryParams(i,t,e+"."):this.addQueryParam(e,""+i,t);}}}removeQueryParam(e){this.queryParameters&&(this.queryParameters=this.queryParameters.filter(t=>(!r.equals(t.name,e,!0))));}_setFromUriString(e,t){let n=e;const r=s(n,"#");r?(n=r.part1,this.hashString=i(r.part2)):this.hashString="";const o=s(n,"?");o?(n=o.part1,this.queryString=o.part2):this.queryParameters=[],this.scheme="",this.host="",this.port=0,this.path="",this.noSchemeSeparator=!1;const a=s(n,":");if(a)if(this.scheme=a.part1,n=a.part2,"//"===n.substr(0,2)){n=n.substr(2);const e=s(n,"/");e?(n=e.part1,this.path=e.part2):this.path="";const t=s(n,":");t?(this.host=t.part1,this.port=parseInt(t.part2),isNaN(this.port)&&(this.host+=":",this.path=t.part2+"/"+this.path)):this.host=n;}else this.noSchemeSeparator=!0,this.path=n;else this.path=n;if(t&&t.absoluteUriRequired&&!this.scheme)throw new Error(`The uri string "${e}" does not represent a valid absolute uri.`);}}function i(e){return e&&(e=e.replace(/\+/g,"%20"),e=decodeURIComponent(e)),e;}function s(e,t){const n=e.indexOf(t);return n>=0?{part1:e.substr(0,n),part2:e.substr(n+1)}:void 0;}function o(e){const t=[];return e.split("&").forEach(e=>{if(e){const n=s(e,"=");n?t.push({name:i(n.part1),value:i(n.part2)}):t.push({name:i(e),value:null});}}),t;}function a(e){return e&&e.length?e.map(e=>(null!==e.value?"string"!=typeof e.value?encodeURIComponent(e.name)+"="+encodeURIComponent(e.value):encodeURIComponent(e.name)+"="+e.value.split("/").map(e=>(encodeURIComponent(e))).join("/"):encodeURIComponent(e.name))).join("&"):"";}function c(...e){const t=[];for(let n=0,r=e.length-1;n<=r;n++){let i=__WRAPPED_get(e,n);i&&("/"!==i||0!==n&&n!==r?(n>0&&"/"===i[0]&&(i=i.substr(1)),n<r&&"/"===i[i.length-1]&&(i=i.substr(0,i.length-1)),i&&t.push(i)):t.push(""));}return 1===t.length&&""===t[0]?"/":t.join("/");}function u(e){const t={segments:[]};let n=-1,r=-1,i="";for(let s=0,o=e.length;s<o;s++){const o=e.charCodeAt(s);if(n>=0){if(125===o){let r=e.substring(n,s),i=!1;42===r.charCodeAt(0)&&(r=r.substr(1),i=!0),t.segments.push({paramName:r,isWildCardParam:i}),n=-1;}}else if(123===o&&123!==e.charCodeAt(s+1)){if(i||r>=0){let n=i;r>=0&&(n+=e.substring(r,s)),n&&t.segments.push({text:n}),r=-1,i="";}n=s+1;}else(123===o&&123===e.charCodeAt(s+1)||125===o&&125===e.charCodeAt(s+1))&&(i+=e.substring(r>=0?r:s,s+1),r=-1,s++),r<0&&(r=s);}if(r>=0||n>=0){const s=i+e.substring(r>=0?r:n);s&&t.segments.push({text:s});}let s=!1;for(let e=t.segments.length-1;e>=0;e--){const n=__WRAPPED_get(t.segments,e);n.text&&"/"!==n.text?s=!0:s&&n.paramName&&(n.isRequiredParam=!0);}return t;}function l(e,t){let n;const r=Object.keys(t).length;for(const i of e){const e=d(i,t,!1);if(e&&(!n||e.matchedParametersCount>n.matchedParametersCount||e.matchedParametersCount===n.matchedParametersCount&&0===e.unmatchedParametersCount&&n.unmatchedParametersCount>0)&&(n=e,e.matchedParametersCount===r))return n;}return n;}function d(e,t,n){const r=[],i={};let s=0;for(let o=0,a=e.segments.length;o<a;o++){const a=__WRAPPED_get(e.segments,o);if(a.text){let e=a.text;n&&o>0&&"/"===e.charAt(0)&&0===r.length&&(e=e.substr(1)),e&&r.push(e);}else{const e=__WRAPPED_get(t,a.paramName);if(e||0===e)r.push(a.isWildCardParam?encodeURI(""+e):encodeURIComponent(""+e)),__WRAPPED_set(i,a.paramName,'=',!0),s++;else{if(!n){if(a.isRequiredParam)return;break;}if(r.length){const e=r[r.length-1];"/"===e[e.length-1]&&(r[r.length-1]=e.substr(0,e.length-1));}}}}const o=e.segments.filter(e=>(e.paramName)).length-s;return{url:r.join(""),matchedParameters:i,matchedParametersCount:s,unmatchedParametersCount:o};}t.UtilUrl.Uri=n,t.UtilUrl.parseQueryString=o,t.UtilUrl.toQueryString=a,t.UtilUrl.combineUrlPaths=c,t.UtilUrl.resolveRelativePath=function(e){const t=e.split("/").filter(e=>("."!==e));let n;for(;(n=t.indexOf(".."))>0;)t.splice(n-1,2);return t.join("/");},t.UtilUrl.parseRouteTemplate=u,t.UtilUrl.routeUrl=function(e,t){const r=l(e,t);if(!r)return"";const i=new n(r.url);for(const e in t)__WRAPPED_get(r.matchedParameters,e)||i.addQueryParam(e,__WRAPPED_get(t,e));return i.absoluteUri;},t.UtilUrl.getBestRouteMatch=l,t.UtilUrl.replaceParsedRouteValues=d,t.UtilUrl.replaceRouteValues=function(e,t){return d(u(e),t,!0).url;},t.UtilUrl.isSameOrigin=function(e,t){const i=new n(e),s=new n(t);return r.equals(i.host,s.host,!0)&&i.getEffectivePort()===s.getEffectivePort();},t.UtilUrl.isUrlValid=function(e){if(""===e.trim())return!1;try{const t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol;}catch(e){return!1;}};}()),(function(e){b=t.RestClientBase={};t.RestClientBase.RestClientBase=class{constructor(e){this._options=e||{},"string"==typeof this._options.rootPath?this._rootPath=Promise.resolve(this._options.rootPath):this._rootPath=this._options.rootPath||Promise.resolve("/");}async getRootPath(){return this._rootPath;}async beginRequest(e){return this._rootPath.then(t=>{let n=t+(0,S.replaceRouteValues)(e.routeTemplate,e.routeValues||{});if(e.queryParams){const t=new S.Uri(n);t.addQueryParams(e.queryParams),n=t.absoluteUri;}return this._issueRequest(n,e.apiVersion,e);});}async _issueRequest(e,t,n,r=0){const i={};if(!this._options.ignoreQueue&&this._options.pageContext){const e=this._options.pageContext.getService("IPlatformRestErrorHandlerService");await(null==e?void 0:e.requestsEnabled());}i.method=n.method||"GET",i.mode="cors",!n.isRawData&&n.body&&"GET"!==i.method.toUpperCase()?i.body=JSON.stringify(n.body):i.body=n.body;const s=n.httpResponseType||"application/json",o=`${s};api-version=${t};excludeUrls=true;enumsAsNumbers=true;msDateFormat=true;noArrayWrap=true`;i.headers=Object.assign(Object.assign(Object.assign({Accept:o},n.body&&{"Content-Type":"application/json"}),this._options.readConsistencyLevel&&{"X-VSS-ReadConsistencyLevel":__WRAPPED_get(m.IVssReadConsistencyLevel,this._options.readConsistencyLevel)}),n.customHeaders);const a={authTokenProvider:this._options.authTokenProvider,sessionId:this._options.sessionId,command:n.command||this._options.command};let c,u,l=0;for(;;)try{l++;const t=(0,f.issueRequest)(e,i,a);return c=await t,n.returnRawResponse?c:s.toLowerCase().indexOf("json")>=0?(u=await c.text(),(0,g.deserializeVssJsonObject)(u)):"text/plain"===s.toLowerCase()?c.text():c.arrayBuffer();}catch(e){if(1!==await this._handleError(l,u,c,e))throw e;}}async _handleError(e,t,n,r){const i=this._options.pageContext;return i&&this._options.errorHandler?this._options.errorHandler(i,e,t,n,r):2;}};}()),(function(e){__WRAPPED_set(t,e,'=',{});class n extends b.RestClientBase{constructor(e){super(e);}async createSessionToken(e){return this.beginRequest({apiVersion:"7.1-preview.1",method:"POST",routeTemplate:"_apis/WebPlatformAuth/SessionToken",body:e});}}__WRAPPED_get(t,e).AuthenticationClientName="IAuthenticationRestClient",__WRAPPED_get(t,e).getAuthenticationClient=function(n,r){return n.getRestClient(__WRAPPED_get(t,e).AuthenticationClientName,r);},m.RestClients.add(__WRAPPED_get(t,e).AuthenticationClientName,{factory:n});}("RestClientAuthentication")),(function(e){function n(e){return"Bearer "+e;}y=t.Authentication={},t.Authentication.getBearerTokenAuthHeaderValue=n;class i{constructor(e,t,n=r.EmptyGuidString,i,s=0){if(this.pageContext=e,this.namedTokenId=t,this.tokenType=s,i){const e=i.indexOf(".");this.publisherName=i.substr(0,e),this.extensionName=i.substr(e+1);}else this.appId=n||r.EmptyGuidString;}getAuthorizationHeader(e){return this.getSessionToken(e).then(e=>(n(e.token)));}getSessionToken(e){if(!e&&(this.tokenExpirationTime&&new Date().getTime()>this.tokenExpirationTime.getTime()-6e4&&(delete this.tokenExpirationTime,delete this.tokenPromise),this.tokenPromise))return this.tokenPromise;const t={appId:this.appId,extensionName:this.extensionName,publisherName:this.publisherName,force:e,tokenType:this.tokenType,namedTokenId:this.namedTokenId},n=this.pageContext.getRestClient("IAuthenticationRestClient");return this.tokenPromise=n.createSessionToken(t).then(e=>((this.tokenExpirationTime=e.validTo,e))),this.tokenPromise.catch(()=>(delete this.tokenPromise)),this.tokenPromise;}}t.Authentication.BearerTokenProvider=class{constructor(e){this.header=n(e);}getAuthorizationHeader(e){return Promise.resolve(this.header);}};class s extends m.VssService{getDefaultTokenProvider(){return this._defaultProvider||(this._defaultProvider=new i(this.pageContext)),this._defaultProvider;}getNamedTokenProvider(e){return this.getTokenProvider(e,void 0,0);}getExtensionTokenProvider(e,t){return this.getTokenProvider(void 0,e,t);}getBearerTokenProvider(e){return{getAuthorizationHeader:t=>(Promise.resolve(n(e)))};}getTokenProvider(e,t,n){const r=`${e}.${t}.${n}`;this._providers||(this._providers={});let s=__WRAPPED_get(this._providers,r);return s||(s=new i(this.pageContext,e,void 0,t,n),__WRAPPED_set(this._providers,r,'=',s)),s;}}m.Services.add("IAuthenticationService",{serviceFactory:s});}()),(function(e){t.Content={};const r=new class{constructor(){this.pendingContent={},this.loadedContent={},this.contentLengthsByContributionId={},this.observable=new n.Observable(),window.__contentLoaded=this.loadComplete.bind(this),window.__loadScript=this.loadScript.bind(this);}isContentAvailable(e){return!!__WRAPPED_get(this.loadedContent,this.getContentId(e));}getContributionContentLengths(e){return __WRAPPED_get(this.contentLengthsByContributionId,e);}loadScript(e){let t;const n=this.getContentId(e);if(__WRAPPED_get(this.loadedContent,n))t=Promise.resolve(e);else if(__WRAPPED_get(this.pendingContent,n))t=__WRAPPED_get(this.pendingContent,n).loadPromise;else{const r=window.performance.now();t=new Promise((t,n)=>{let r;"text/javascript"===e.contentType?(r=document.createElement("script"),r.async=!!e.priority&&e.priority>=100,r.src=e.url,e.integrity&&(r.integrity=e.integrity,r.crossOrigin="anonymous"),e.moduleNamespaces&&e.moduleNamespaces.length&&(window.__moduleNamespaces||(window.__moduleNamespaces=[]),window.__moduleNamespaces=window.__moduleNamespaces.concat(e.moduleNamespaces))):(r=document.createElement("link"),r.href=e.url,r.rel="stylesheet",r.crossOrigin="anonymous",e.integrity&&(r.integrity=e.integrity),r.setAttribute("crossorigin","anonymous")),r.setAttribute("data-contentlength",e.contentLength.toString()),e.clientId&&r.setAttribute("data-clientid",e.clientId),e.contributionId&&r.setAttribute("data-sourcecontribution",e.contributionId),r.addEventListener("load",e=>{t(this.loadComplete(e.target,!0));}),r.addEventListener("error",e=>{n(this.loadComplete(e.target,!1));}),document.head.appendChild(r);}),__WRAPPED_set(this.pendingContent,n,'=',{startTime:r,loadPromise:t});}return t;}subscribe(e){this.observable.subscribe(e);}getContentId(e){return e.clientId||e.url;}loadComplete(e,t,n,r){const i={contentLength:parseInt(e.getAttribute("data-contentlength")),clientId:e.getAttribute("data-clientid"),contentType:"SCRIPT"===e.tagName.toUpperCase()?"text/javascript":"text/css",contributionId:e.getAttribute("data-sourcecontribution"),url:e instanceof HTMLScriptElement?e.src:e.href,integrity:e.getAttribute("integrity")},s=this.getContentId(i),o=__WRAPPED_get(this.pendingContent,s);delete this.pendingContent[s];const a={contentAttributes:i,contentElement:e,loadEnd:n=n||window.performance.now()};if(r&&(a.previousResourceLoadEnd=r),o&&(a.loadStart=o.startTime),t){if(__WRAPPED_set(this.loadedContent,s,'=',a),i.contributionId){let e=__WRAPPED_get(this.contentLengthsByContributionId,i.contributionId);e||__WRAPPED_set(this.contentLengthsByContributionId,i.contributionId,'=',e={}),__WRAPPED_set(e,i.contentType,'=',(__WRAPPED_get(e,i.contentType)||0)+i.contentLength);}this.observable.notify(a,"contentComplete",!0);}else this.observable.notify(a,"contentLoadError",!0);return i;}}();class i extends m.VssObservableService{constructor(){super(...arguments),this.completedContributions={},this.scriptComplete=(e,t)=>{const n=e.contributionId,r=__WRAPPED_get(t,n);if(r&&(__WRAPPED_set(t,n,'=',r-1),1===r))if(__WRAPPED_get(this.completedContributions,n))__WRAPPED_get(this.completedContributions,n).resolved=!0;else{const e={contributionId:n,resolved:!0};this._notify(e,"contributionComplete",!0),__WRAPPED_set(this.completedContributions,n,'=',e);}return e;};}_serviceStart(e){super._serviceStart(e),r.subscribe((e,t)=>{this._notify(e,t,!0);});const t=document.querySelectorAll("[data-sourcecontribution]");for(let e=0;e<t.length;e++){const n=__WRAPPED_get(t,e).getAttribute("data-sourcecontribution");if(!__WRAPPED_get(this.completedContributions,n)){const e={contributionId:n,resolved:!0};this._notify(e,"contributionComplete",!0),__WRAPPED_set(this.completedContributions,n,'=',e);}}}isLoaded(e){return!!__WRAPPED_get(this.completedContributions,e);}loadScripts(e){const t=[],n={};for(const i of e){if(!r.isContentAvailable(i)){const e=i.contributionId;e&&(__WRAPPED_get(n,e)?__WRAPPED_set(n,e,'=',__WRAPPED_get(n,e)+1):__WRAPPED_set(n,e,'=',1));}t.push(r.loadScript(i).then(e=>(this.scriptComplete(e,n)),e=>(this.scriptComplete(e,n))));}return Promise.all(t);}getContributionContentLengths(e){return r.getContributionContentLengths(e);}resetResolvedContent(){for(const e in this.completedContributions)__WRAPPED_get(this.completedContributions,e).resolved=!1;}}m.Services.add("IVssContentService",{serviceFactory:i,options:6});}()),(function(e){__WRAPPED_set(t,e,'=',{});class n extends b.RestClientBase{constructor(e){super(e);}async queryContributedHierarchy(e,t,n){return this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"_apis/Contribution/HierarchyQuery/{scopeName}/{scopeValue}",routeValues:{scopeName:t,scopeValue:n},body:e});}}__WRAPPED_get(t,e).WebContributionsClientName="IWebContributionsRestClient",__WRAPPED_get(t,e).getWebContributionsClient=function(n,r){return n.getRestClient(__WRAPPED_get(t,e).WebContributionsClientName,r);},m.RestClients.add(__WRAPPED_get(t,e).WebContributionsClientName,{factory:n});}("RestClientWebContributions")),(function(e){function n(e,t,...n){const s=Array.isArray(t),o=1===e.arrayOptions,a=!1!==e.deepClone;for(const e of n)s&&Array.isArray(e)?(o||(t.length=0),t.push.apply(t,a?r(e):e)):i(t,e,a,o);return t;}function r(e){const t=[];for(let n=0,s=e.length;n<s;n++){const s=__WRAPPED_get(e,n);"object"!=typeof s||null===s||s instanceof Date?__WRAPPED_set(t,n,'=',s):Array.isArray(s)?__WRAPPED_set(t,n,'=',r(s)):__WRAPPED_set(t,n,'=',i({},s,!0,!1));}return t;}function i(e,t,n,s){for(const o in t){const a=__WRAPPED_get(t,o),c=__WRAPPED_get(e,o);if("object"!=typeof c||null===c||c instanceof Date)!n||"object"!=typeof a||null===a||a instanceof Date?__WRAPPED_set(e,o,'=',a):Array.isArray(a)?__WRAPPED_set(e,o,'=',r(a)):__WRAPPED_set(e,o,'=',i({},a,n,s));else{const t=Array.isArray(c);if(t&&Array.isArray(a))if(s){let t=a;n&&(t=r(a)),__WRAPPED_set(e,o,'=',[...c,...a]);}else __WRAPPED_set(e,o,'=',n?r(a):a);else if("object"!=typeof a||null===a||a instanceof Date)__WRAPPED_set(e,o,'=',a);else{const r=t?[...c]:Object.assign({},c);__WRAPPED_set(e,o,'=',i(r,a,n,s));}}}return e;}C=t.UtilObject={},t.UtilObject.deepMerge=function(e,...t){return n({deepClone:!0,arrayOptions:0},e,...t);},t.UtilObject.deepMergeWithOptions=n;}()),(function(e){t.Contribution={};class n extends m.VssObservableService{constructor(){super(...arguments),this.dataProviderExceptions={},this.clientProviders={},this.dataProviders={},this.sharedData={},this.pendingContributions={},this.loadedContentContributions={},this.onContributionLoaded=e=>{__WRAPPED_set(this.loadedContentContributions,e.contributionId,'=',e);};}_serviceStart(e){super._serviceStart(e),this.contentService=this.pageContext.getService("IVssContentService"),this.contentService.subscribe(this.onContributionLoaded,"contributionComplete");const t=(0,g.readJsonScript)("dataProviders",!0);t?(this._applyData(t.data,t.sharedData,t.exceptions,t.clientProviders,void 0),this.dataProviderScope||(this.dataProviderScope={name:t.scopeName,value:t.scopeValue})):console.warn("No data providers found"),this.contributionPageData=this.getData("ms.vss-web.page-data");}_serviceEnd(e){super._serviceEnd(e),this.contentService.unsubscribe(this.onContributionLoaded,"contributionComplete");}async executeCommand(e,...t){const n=await this.getContributionAsync(e);return n?this.executeCommandEx(e,n,t):Promise.resolve(null);}async executeCommandEx(e,t,...n){let r=null;if(t){const i=await this.getServiceEx(e,t);if(i){const e=__WRAPPED_get(i,t.methodName);e&&(r=e.apply(i,t.methodArguments||n));}}return r;}getContribution(e){let t;const n=this.getContributionData();return n&&n.contributions&&(t=__WRAPPED_get(n.contributions,e)),t;}async getContributionAsync(e,t,n,r){return(await this.getContributionsAsync([e],t,n,r))[0];}async getContributionsAsync(e,t,n,r){return this.getContributionsAsyncInternal(e,t,n);}getContributionChildren(e,t){let n=[];const r=this.getContributionData();if(r&&r.relationships){let i={};if(__WRAPPED_get(r.relationships,e)){const t=__WRAPPED_get(r.relationships,e);t.children&&(i=t.children);}for(const t in r.relationships){const n=__WRAPPED_get(r.relationships,t);n&&n.parents&&__WRAPPED_get(n.parents,e)&&__WRAPPED_set(i,t,'=',!0);}if(t){const e=this.getContributionIdsByType(t);if(!e||0===e.length)return n;for(const t of e)__WRAPPED_get(i,t)&&n.push(t);}else n=Object.keys(i);}return n;}getContributionIdsByType(e){let t=[];const n=this.getContributionData();if(n&&n.types&&__WRAPPED_get(n.types,e)){const r=__WRAPPED_get(n.types,e);r&&(t=Object.keys(r));}return t;}getContributionsByType(e){const t=this.getContributionIdsByType(e),n={},r=this.getContributionData();if(r)for(const e of t)__WRAPPED_set(n,e,'=',__WRAPPED_get(r.contributions,e));return n;}getContributionProvider(e){let t;const n=this.getContributionData();if(n&&n.providers){const r=e.split("."),i=r[0]+"."+r[1];t=__WRAPPED_get(n.providers,i),t&&(t.id=i);}return t;}getData(e,t){let n;const r=this._getParametersKey(t),i=__WRAPPED_get(this.dataProviders,e);return i&&(n=__WRAPPED_get(i,r)),n;}async getDataAsync(e,t,n,r,i){let s=n?void 0:this.getData(e,t);if(!s){let n;for(const t in this.clientProviders)if(-1!==__WRAPPED_get(this.clientProviders,t).contributionIds.indexOf(e)){const e=__WRAPPED_get(this.clientProviders,t);r=r||e.queryServiceInstanceType,n=e.context.properties;break;}const o=Object.assign(Object.assign({},n),t);await this.getContributionsAsyncInternal([e],o,!0,r,i),s=this.getData(e,o);}return Promise.resolve(s);}getSharedData(e){return __WRAPPED_get(this.sharedData,e);}getServiceSync(e,t){const n=this.getContribution(e);if(n)return n.dependencies&&n.dependencies.forEach(e=>{this.getContribution(e)||this.isContentContributionLoaded(e);}),this.pageContext.getService(n.serviceName,t,!0);}async getService(e,t){const n=await this.getContributionAsync(e);return n?this.getServiceEx(e,n,t):Promise.reject(void 0);}async getServiceEx(e,t,n){let r;r=t.dependencies&&t.dependencies.length?this.getContributionsAsync(t.dependencies):Promise.resolve(),await r;const i=this.pageContext.getService(t.serviceName,n,!0);if(i)return i;await this.getContributionAsync("ms.vss-web.remote-service-providers");const s=await this.getChildServices("ms.vss-web.remote-service-providers","ms.vss-web.service");return s.length?s[0].service.getService(e,t):void 0;}getChildServices(e,t){const n=this.getChildServicesEx(e,t);return Promise.all(n.map(e=>(e.service))).then(e=>{const t=[];for(let r=0,i=n.length;r<i;r++)__WRAPPED_get(e,r)&&t.push({id:__WRAPPED_get(n,r).id,service:__WRAPPED_get(e,r)});return t;});}getChildServicesEx(e,t){const n=[],r=this.getContributionChildren(e,t);for(const e of r)n.push({id:e,service:this.getService(e)});return n;}getDataProviderExceptions(){return this.dataProviderExceptions;}isContributionResolved(e){let t=!1;if(this.contributionPageData){const n=this.getContributionData();if(n&&n.contributions){const r=this._getParametersKey();__WRAPPED_get(this.pendingContributions,e+"/"+r)||(t=n.contributions.hasOwnProperty(e)||this.isContentContributionLoaded(e)||void 0!==this.getData(e));}}return t;}isContributionTrusted(e){let t=!1;const n=this.getContribution(e);if(n){64&n["::Attributes"]&&(t=!0);}return t;}isContentContributionLoaded(e){const t=__WRAPPED_get(this.loadedContentContributions,e);return!!t&&t.resolved;}getContributionData(){return this.getSharedData("_contributions");}async getContributionsAsyncInternal(e,t,n,r,i){let s=this.getContributionData(),o=s&&s.contributions||{};const a=this._getParametersKey(t);if(this.contributionPageData){const c=new Set(),u=[];for(const r of e){const e=__WRAPPED_get(this.pendingContributions,r+"/"+a);e?u.push(e):(n||!o.hasOwnProperty(r)&&!this.isContentContributionLoaded(r)&&void 0===this.getData(r,t))&&c.add(r);}if(c.size>0){const e=this.fetchContributionsAsync(Array.from(c),t,r,i);u.push(e);for(const t of c)__WRAPPED_set(this.pendingContributions,t+"/"+a,'=',e);}if(u.length){const e=await Promise.allSettled(u);let t,n=!1;for(let r=0;r<e.length;r++){const i=__WRAPPED_get(e,r);if("rejected"===i.status){n=!0,t=i.reason;for(const [e,t]of Object.entries(this.pendingContributions))t===__WRAPPED_get(u,r)&&delete this.pendingContributions[e];}}if(n)throw t;}s=this.getContributionData(),o=s&&s.contributions||{};for(const e of c)delete this.pendingContributions[e+"/"+a],s&&!s.contributions.hasOwnProperty(e)&&__WRAPPED_set(s.contributions,e,'=',void 0);}const c=[];for(const t of e){const e=__WRAPPED_get(o,t);c.push(e);}return c;}async fetchContributionsAsync(e,t,n,r){const i=Object.assign({},t);this._notify({contributionIds:e,properties:i},"dpqStarting");const s=this.pageContext.getRestClient("IWebContributionsRestClient",Object.assign({serviceInstanceType:n},r)),o=await s.queryContributedHierarchy({contributionIds:e,dataProviderContext:{properties:i}},this.dataProviderScope.name,this.dataProviderScope.value);this._applyData(o.dataProviders,o.dataProviderSharedData,o.dataProviderExceptions,void 0,t),o.content&&await this.contentService.loadScripts(o.content),this._notify({dataProviders:o.dataProviders,dataProviderSharedData:o.dataProviderSharedData,dataProviderExceptions:o.dataProviderExceptions},"dpqCompleted");}_applyData(e,t,n,r,i){if(e){const t=this._getParametersKey(i);for(const n in e){let r=__WRAPPED_get(this.dataProviders,n);r||__WRAPPED_set(this.dataProviders,n,'=',r={}),__WRAPPED_set(r,t,'=',__WRAPPED_get(e,n));}}if(t)for(const e in t){let n=__WRAPPED_get(t,e);const r=__WRAPPED_get(this.sharedData,e);r&&(n=(0,C.deepMergeWithOptions)({deepClone:!1},r,n)),__WRAPPED_set(this.sharedData,e,'=',n);}if(r)for(const e in r)__WRAPPED_set(this.clientProviders,e,'=',__WRAPPED_get(r,e));if(n)for(const e in n){const t=__WRAPPED_get(n,e);__WRAPPED_set(this.dataProviderExceptions,e,'=',t),console.warn(`ContributionData unavailable for '${e}', ExceptionType: '${t.exceptionType}', Reason: ${t.message}, StackTrace: ${t.stackTrace}`);}}_getParametersKey(e){return e?JSON.stringify(e):"{}";}}t.Contribution.VssContributionService=n,m.Services.add("IVssContributionService",{serviceFactory:n});class r extends m.VssObservableService{constructor(){super(...arguments),this._lastSubscriptions={},this.onContributionDataLoaded=()=>{this._lastSubscriptions=this.loadContributedSubscriptions(this._lastSubscriptions);};}_serviceStart(e){super._serviceStart(e),this._contributionService=this.pageContext.getService("IVssContributionService"),this._contributionService.subscribe(this.onContributionDataLoaded,"dpqCompleted"),this._lastSubscriptions=this.loadContributedSubscriptions({});}_serviceEnd(e){super._serviceEnd(e),this._contributionService.unsubscribe(this.onContributionDataLoaded,"dpqCompleted");}fireEvent(e,t,n){const r={name:e,data:t};this._notify(r,e,n);}loadContributedSubscriptions(e){const t=this.pageContext.getService("IVssContributionService"),n=this._contributionService.getContributionsByType("ms.vss-web.event-subscription");for(const r in n)if(!__WRAPPED_get(e,r)){const e=__WRAPPED_get(n,r);this.subscribe(n=>{e.command?t.executeCommandEx(r,e.command,n):e.commandId&&t.executeCommand(e.commandId,n);},e.eventName);}return n;}}t.Contribution.VssContributedEventService=r,m.Services.add("IVssContributionEventService",{serviceFactory:r});}()),(function(e){t.Page={};class n extends m.VssService{getData(){return this.pageContext.getService("IVssContributionService").getData("ms.vss-web.page-data");}}m.Services.add("IVssPageService",{serviceFactory:n});}()),(function(e){__WRAPPED_set(t,e,'=',{});class n extends b.RestClientBase{constructor(e){super(e);}async publishEvents(e){return this.beginRequest({apiVersion:"3.2-preview.1",method:"POST",routeTemplate:"_apis/customerintelligence/Events",body:e});}}__WRAPPED_get(t,e).CustomerIntelligenceClientName="ICustomerIntelligenceRestClient",__WRAPPED_get(t,e).getCustomerIntelligenceClient=function(n,r){return n.getRestClient(__WRAPPED_get(t,e).CustomerIntelligenceClientName,r);},m.RestClients.add(__WRAPPED_get(t,e).CustomerIntelligenceClientName,{factory:n});}("RestClientCustomerIntelligence")),(function(e){function n(e,t){return e===t?0:e>t?1:-1;}T=t.UtilArray={},t.UtilArray.groupBy=function(e,t){const n={};for(const r of e){const e=t(r)||"",i=__WRAPPED_get(n,e);i?i.push(r):__WRAPPED_set(n,e,'=',[r]);}return n;},t.UtilArray.toLookup=function(e,t,n){const r={};for(const i of e){__WRAPPED_set(r,t(i),'=',n?n(i):i);}return r;},t.UtilArray.stableSort=function(e,t){const n=new Array(e.length);return function e(r,i,s){const o=s-i;if(o<2)return;const a=i+Math.floor(o/2);e(r,i,a),e(r,a,s),(function(e,r,i,s){let o=r,a=i,c=0;for(;o<i&&a<s;)t(__WRAPPED_get(e,o),__WRAPPED_get(e,a))<=0?(__WRAPPED_set(n,c,'=',__WRAPPED_get(e,o)),o++):(__WRAPPED_set(n,c,'=',__WRAPPED_get(e,a)),a++),c++;for(;o<i;)__WRAPPED_set(n,c,'=',__WRAPPED_get(e,o)),c++,o++;for(;a<s;)__WRAPPED_set(n,c,'=',__WRAPPED_get(e,a)),c++,a++;for(o=0;o<s-r;o++)__WRAPPED_set(e,o+r,'=',__WRAPPED_get(n,o));}(r,i,a,s));}(e,0,e.length),e;},t.UtilArray.uniqueSort=function(e,t=n){e.sort(t);for(let n=1,r=e.length;n<r;n++)0===t(__WRAPPED_get(e,n),e[n-1])&&(e.splice(n--,1),r--);return e;},t.UtilArray.defaultComparer=n,t.UtilArray.mapAsyncSerial=async function(e,t){const n=new Array(e.length);for(let r=0;r<e.length;r++)__WRAPPED_set(n,r,'=',await t(__WRAPPED_get(e,r),r,e));return n;};}()),(function(e){function n(e,t=null){let n=null;try{n=localStorage.getItem(e);}catch(e){}return null===n?t:n;}function r(e,t){try{return null==t?localStorage.removeItem(e):localStorage.setItem(e,t),!0;}catch(e){return!1;}}P=t.UtilStorage={},t.UtilStorage.tryGetLocalStorageValue=n,t.UtilStorage.tryGetLocalStorageObject=function(e,t){const r=n(e);if(!r)return t;try{return JSON.parse(r);}catch(e){return t;}},t.UtilStorage.trySetLocalStorageValue=r,t.UtilStorage.trySetLocalStorageObject=function(e,t){return r(e,t?JSON.stringify(t):void 0);};}()),(function(e){E=t.Telemetry={};class n extends m.VssObservableService{constructor(){super(...arguments),this.events=[],this._onWindowUnload=()=>{this.unloading=!0,this.events.length&&(this._writeEventsToLocalStorage(...this.events),this.events=[]);};}_serviceStart(e){super._serviceStart(e),this._initializeService(),this.publishInterval=window.setInterval(this._sendEvents.bind(this),1e3),window.addEventListener("unload",this._onWindowUnload);const t=this._readEventsFromLocalStorage();t&&this.events.push(...t);}_serviceRestart(e){super._serviceRestart(e),this._sendEvents(),this._initializeService();}_serviceEnd(e){this.publishInterval&&(window.clearInterval(this.publishInterval),this.publishInterval=0),window.removeEventListener("unload",this._onWindowUnload),super._serviceEnd(e);}publishEvent(e,t,n,r){const i=Object.assign({},n);this.sessionId&&(i.SessionId=this.sessionId),i.EventTimestamp=new Date().getTime(),e||(console.warn(`Publishing telemetry event with unknown area. Feature: ${t}. Properties: ${JSON.stringify(i)}`),e="Unknown"),t||(console.warn(`Publishing telemetry event with unknown feature. Area: ${e}. Properties: ${JSON.stringify(i)}`),t="Unknown");const s={area:e,feature:t,properties:i,serviceInstanceType:r};this._notify(s,"publish"),this.unloading?this._writeEventsToLocalStorage(s):this.events.push(s);}_initializeService(){const e=this.pageContext.getService("IVssPageService").getData();e&&(this.sessionId=e.sessionId,this.hostId=e.hostId);}_sendEvents(){const e=(0,T.groupBy)(this.events,e=>(e.serviceInstanceType));this.events=[],Object.keys(e).forEach(t=>{try{const n={serviceInstanceType:t||void 0},r=this.pageContext.getService("IMsalTokenProviderService").getSilentProvider();r&&(n.authTokenProvider=r);const i=this.pageContext.getRestClient("ICustomerIntelligenceRestClient",n);__WRAPPED_get(e,t).forEach(e=>{delete e.serviceInstanceType;}),i.publishEvents(__WRAPPED_get(e,t));}catch(e){console.error(e);}});}_readEventsFromLocalStorage(){let e;const t=`ciEvents/${this.hostId}`;return e=(0,P.tryGetLocalStorageObject)(t),e&&(0,P.trySetLocalStorageObject)(t,void 0),e;}_writeEventsToLocalStorage(...e){let t=e;const n=this._readEventsFromLocalStorage();n&&(t=[...n,...t]),(0,P.trySetLocalStorageObject)(`ciEvents/${this.hostId}`,t);}}m.Services.add("IVssTelemetryService",{serviceFactory:n,options:2}),t.Telemetry.publishEvent=function(e,t,n,r,i){e.getService("IVssTelemetryService").publishEvent(t,n,r,i);};}()),(function(e){w=t.Theming={};const n="user-custom-theme";class r extends m.VssObservableService{constructor(){super(...arguments),this.themeElementsBySelector={};}_serviceStart(e){super._serviceStart(e),this.createThemedSelector(":root",e=>(e)),this._initializeTheme();}_serviceRestart(e){super._serviceRestart(e),this._initializeTheme();}_serviceEnd(e){super._serviceEnd(e);}getThemeValue(e){return(0,i.expandThemeableProperties)(`var(--${e})`,this.currentTheme.data);}getCurrentTheme(){return this.currentTheme;}getTheme(e){const t=this.pageContext.getService("IVssContributionService").getSharedData("_themes");return t&&__WRAPPED_get(t,e);}applyTheme(e){this.currentTheme=e,this._notify(e,"themeChanged");}saveCustomUserTheme(e){(0,P.trySetLocalStorageObject)(n,e);}createThemedSelector(e,t){const n="function"==typeof t?t:void 0;let r=__WRAPPED_get(this.themeElementsBySelector,e);if(r||(r=document.createElement("style"),r.type="text/css",document.head.appendChild(r),__WRAPPED_set(this.themeElementsBySelector,e,'=',r),n&&this.subscribe(t=>{const i=n(t),s=`${e} { ${this.getCSSVariablesContent(i&&i.data)} }`;r.innerText=s;},"themeChanged")),this.currentTheme){const i=n?n(this.currentTheme):t,s=`${e} { ${this.getCSSVariablesContent(i&&i.data)} }`;r.innerText=s;}}getCSSVariablesContent(e){const t=[];if(e)for(const n in e)t.push(`--${n}: ${__WRAPPED_get(e,n)}`);return t.join("; ");}_initializeTheme(){let e;if(e=(0,P.tryGetLocalStorageObject)(n),!e){const t=this.pageContext.getService("IVssContributionService").getData("ms.vss-web.theme-data");t&&t.requestedThemeId&&(e=this.getTheme(t.requestedThemeId));}this.currentTheme=e||{id:"empty-theme",name:"",data:{}},(null==e?void 0:e.id)&&document.body.classList.add(e.id.replace(/\./g,"-")),this.applyTheme(this.currentTheme);}}t.Theming.getCurrentTheme=function(e){return e.getService("IVssThemeService").getCurrentTheme();},m.Services.add("IVssThemeService",{serviceFactory:r,options:6});}()),(function(e){t.Performance={};const n=Math.random()<.02,i=new RegExp("//(.*?)/");function s(e){if(!e)return;const t=i.exec(e);return t?t[1]:void 0;}class o{constructor(e,t,n,r,i,s,o){this.elaspsedTicks=0,this.endTime=-1,this.featureArea="",this.splitTimings=[],this.scenarioName=e,this.isPageInteractive=n,this.isPageNavigate=r,this.startTime=i,this.properties=Object.assign({},s),this.sessionId=t,this.onScenarioComplete=o,r||c.mark(l(e,u.Start));}complete(e){!this.isPageNavigate||e||document.hidden?this.completeNow(e):(this.splitTimings.push({name:"ScenarioEnd.PendingPaint",timestamp:Date.now()-this.startTime}),window.requestAnimationFrame(()=>{this.completeNow();}));}addProperties(e){this.properties=Object.assign(Object.assign({},this.properties),e);}completeNow(e){if(this.endTime=e||Date.now(),this.elaspsedTicks=this.endTime-this.startTime,this.onScenarioComplete(this),!e||this.isPageNavigate){const e=l(this.scenarioName,u.End);c.mark(e);const t=this.isPageNavigate?"navigationStart":l(this.scenarioName,u.Start);c.measure(this.scenarioName,t,e);}}}class a extends m.VssObservableService{constructor(){super(...arguments),this.activeScenarios={},this.completedScenarios=[],this.pageNavigateScenario=!0,this.pageNavigateSplitTimings=[],this._completedContentCache=[],this.handleScenarioComplete=e=>{e===__WRAPPED_get(this.activeScenarios,e.scenarioName)&&delete this.activeScenarios[e.scenarioName],this.completedScenarios.push(e),(e.isPageNavigate||e.isPageInteractive)&&this.pageNavigateSplitTimings.length&&(e.splitTimings.push(...this.pageNavigateSplitTimings),e.splitTimings.sort((e,t)=>(e.timestamp-t.timestamp))),e.isPageInteractive&&(this.performanceData.timeToInteractive=e.endTime-e.startTime,this.performanceData.backgroundTab=document.hidden,this.setNewSessionId());const t=this.getScenarioTelemetry(e,e.properties.serviceInstanceType);if(t.properties.LWLS=!0,e.isPageInteractive&&(t.properties.isTTI=!0,t.properties.theme=(0,w.getCurrentTheme)(this.pageContext).id),(0,E.publishEvent)(this.pageContext,t.area,t.feature,t.properties,t.serviceInstanceType),e.isPageInteractive){const e=this._shouldCollectResourceTimings(),n=this.getTimingTelemetry(e);n&&(0,E.publishEvent)(this.pageContext,n.area,n.feature,n.properties,t.serviceInstanceType),this._completedContentCache=[];}if(this._notify(e,"scenarioComplete"),e.isPageInteractive){const t=this.pageContext.getService("IVssContributionEventService");setTimeout(()=>{(0,v.getCookie)("TFS-BREAK-TTI");t.fireEvent("page-interactive",e,!0);},0);}},this._afterRequest=(e,t)=>{if(this.performanceData.contentData.ajaxCount++,e.response&&e.response.ok){const t=e.response.headers.get("content-length");t&&(this.performanceData.contentData.ajaxSize+=parseInt(t));}},this._contentComplete=(e,t)=>{"text/css"===e.contentAttributes.contentType?(this.performanceData.contentData.cssCount++,this.performanceData.contentData.cssSize+=e.contentAttributes.contentLength):"text/javascript"===e.contentAttributes.contentType&&(this.performanceData.contentData.scriptsCount++,this.performanceData.contentData.scriptSize+=e.contentAttributes.contentLength),"contentComplete"!==t||this.performanceData.timeToInteractive||this._completedContentCache.push(e);},this._legacyContentComplete=e=>{e&&e.detail&&e.detail.size&&(e.detail.isCss?(this.performanceData.contentData.cssCount++,this.performanceData.contentData.cssSize+=e.detail.size):(this.performanceData.contentData.scriptsCount++,this.performanceData.contentData.scriptSize+=e.detail.size));},this.fpsLoading=e=>{this.pageNavigateScenario=!1,this.navigationStartTime=e.detail.startTime,window.lwpLastNavigationStartTime=this.navigationStartTime,document.body.dispatchEvent(new CustomEvent("lwpPerfNavigationReset",{cancelable:!1,detail:{}})),this.activeScenarios={},this.completedScenarios=[],this.pageNavigateSplitTimings=[];},this.legacyScenarioStarted=e=>{const t=e.detail.descriptor;t&&this._startScenario(t.getName(),t.isPageInteractive(),this.pageNavigateScenario,t.getStartTime());},this.legacyScenarioCompleted=e=>{const t=e.detail.scenarioDetail;if(t){const e=t.scenario,n=t.telemetryData;e.isPageInteractive()?this.markTimeToInteractive(e.getFeatureArea(),e.getName(),void 0,e.getData(),e.getSplitTimings(),n):this.endScenario(e.getFeatureArea(),e.getName(),!1,e.getEndTime(),e.getData(),e.getSplitTimings(),n);}};}_serviceStart(e){super._serviceStart(e),this.resetPerformanceData(!0),this.navigationStartTime=window.performance.timing.navigationStart;const t=this.pageContext.getService("IVssContentService");t.subscribe(this._contentComplete,"contentComplete"),t.subscribe(this._contentComplete,"contentLoadError"),f.requestListeners.subscribe(this._afterRequest,"afterRequest"),document.addEventListener("scenarioStarted",this.legacyScenarioStarted),document.addEventListener("scenarioCompleted",this.legacyScenarioCompleted),document.addEventListener("legacyContentElementLoaded",this._legacyContentComplete),this.initializeService(),document.body.addEventListener("fpsLoading",this.fpsLoading);}_serviceRestart(e){super._serviceRestart(e),this.resetPerformanceData(!1),this.initializeService();}isFastPageSwitchScenario(){return!this.pageNavigateScenario;}addSplitTiming(e,t){if(t){const n=__WRAPPED_get(this.activeScenarios,t);n&&n.splitTimings.push({name:e,timestamp:Date.now()-n.startTime});}else this.pageNavigateSplitTimings.push({name:e,timestamp:Date.now()-this.navigationStartTime});}getCompletedScenarios(){return this.completedScenarios;}getActiveScenario(e){return __WRAPPED_get(this.activeScenarios,e);}getServerStatistics(){return this.serverStatistics;}getPerformanceInsights(){return this.performanceInsights;}getEntriesByName(e){return c.getEntriesByName(e);}getTimingByName(e){return c.getTimingByName(e);}getPerformanceData(){return this.performanceData;}endScenario(e,t,n,r,i,s,o){let a=__WRAPPED_get(this.activeScenarios,t);return a?(n&&(a.isPageInteractive=!0),i&&a.addProperties(i)):a=this.startScenarioFromNavigation(t,n,i),e&&(a.featureArea=e),s&&a.splitTimings.push(...s),o&&(o.properties&&a.addProperties(o.properties),o.serviceInstanceType&&(a.properties.serviceInstanceType=o.serviceInstanceType)),a.complete(r),a;}markTimeToInteractive(e,t,n,r,i,s){return this.endScenario(e,t,!0,n,r,i,s);}startScenario(e,t,n,r){return this._startScenario(e,t,!1,n||Date.now(),r);}startScenarioFromNavigation(e,t,n){return this._startScenario(e,t,this.pageNavigateScenario,this.navigationStartTime,n);}getDefaultNavigationEvents(e){const t=[];try{const e=[{name:"PLT",startEvent:"navigationStart",endEvent:"loadEventEnd",isAggregate:!0},{name:"Redirect",startEvent:"redirectStart",endEvent:"redirectEnd"},{name:"Unload",startEvent:"unloadEventStart",endEvent:"unloadEventEnd"},{name:"Fetch",startEvent:"fetchStart",endEvent:"domainLookupStart"},{name:"DNS",startEvent:"domainLookupStart",endEvent:"domainLookupEnd"},{name:"TCP",startEvent:"connectStart",endEvent:"connectEnd"},{name:"SSL",startEvent:"secureConnectionStart",endEvent:"connectEnd"},{name:"Request",startEvent:"connectEnd",endEvent:"responseStart"},{name:"Server Time",startEvent:"connectEnd",endEvent:"responseEnd",isAggregate:!0},{name:"Response",startEvent:"responseStart",endEvent:"responseEnd"},{name:"DOMInteractive",startEvent:"domInteractive",endEvent:"domComplete"},{name:"DOMProcessing",startEvent:"domLoading",endEvent:"domComplete"},{name:"onLoad",startEvent:"loadEventStart",endEvent:"loadEventEnd"},{name:"Network Time",startEvent:"domainLookupStart",endEvent:"connectEnd"},{name:"PreRequest",startEvent:"navigationStart",endEvent:"connectEnd",isAggregate:!0},{name:"RequestResponse",startEvent:"connectEnd",endEvent:"responseEnd",isAggregate:!0}];for(const n of e){let e=c.getEntriesByName(n.name);if(0===e.length){if(null==c.getTimingByName(n.startEvent)&&0===c.getEntriesByName(n.startEvent).length||null==c.getTimingByName(n.endEvent)&&0===c.getEntriesByName(n.endEvent).length)continue;c.measure(n.name,n.startEvent,n.endEvent),e=c.getEntriesByName(n.name);}const r=e.map(e=>({name:e.name,startTime:e.startTime,duration:e.duration}))[0];n.perfEntry=r,t.push(n);}}catch(e){0;}if(e){let n=0;e.endTime&&(n=e.startTime-e.endTime);const r={name:"TTI",perfEntry:{name:"TTI",duration:n,startTime:0},startEvent:"navigationStart",endEvent:e.scenarioName,isAggregate:!0};r&&t.push(r);}return t;}getResourceTimingEntries(){return c.getEntriesByType("resource")||[];}getTimingTelemetry(e){const t=this._getContentTelemetryProperties(e);if(!t)return null;const n={area:"Performance",feature:"ResourceTiming",properties:t};if(n.properties.individualTimings){let e=JSON.stringify(n,null,2);const t=3e4,r=450;for(;e.length>t;){const i=e.length-t,s=Math.ceil(i/r),o=Object.keys(n.properties.individualTimings);if(o.length<=10)return null;const a=o.slice(Math.max(20,o.length-s));for(const e of a)delete n.properties.individualTimings[e];e=JSON.stringify(n,null,2);}}return n;}getScenarioTelemetry(e,t){let n={activityId:e.sessionId,backgroundTab:document.hidden,debugMode:this.isDebugMode,elapsedTime:e.endTime-e.startTime,featureArea:e.featureArea||"",name:e.scenarioName,pageId:this.pageId,pageNavigateScenario:e.isPageNavigate,serviceVersion:this.serviceVersion,splitTimings:e.splitTimings,startTime:e.startTime,timeZoneOffset:new Date().getTimezoneOffset()};if(n=Object.assign(Object.assign({},e.properties),n),e.isPageInteractive)try{const e=this._getPageInteractiveTelemetryProperties(n.pageNavigateScenario);Object.assign(n,e);}catch(e){}return{area:"Performance",feature:"Scenario",elapsedTime:e.endTime-e.startTime,properties:n,serviceInstanceType:t};}getNavigationStartTime(){return this.navigationStartTime;}_startScenario(e,t,n,r,i){const s=new o(e,this.sessionId,t,n,r,i,this.handleScenarioComplete);return __WRAPPED_set(this.activeScenarios,e,'=',s),s;}initializeService(){const e=this.pageContext.getService("IVssPageService").getData();e&&(this.isDebugMode=e.isDebugMode,this.sessionId=e.sessionId,this.pageId=e.sessionId,this.serviceVersion=e.serviceVersion);const t=(0,g.readJsonScript)("serverStatistics",!0);if(this.serverStatistics=t?t.serverTimings:null,this.performanceInsights=t?t.insights:void 0,this.serverStatistics)for(const e in this.serverStatistics){const t=__WRAPPED_get(this.serverStatistics,e);switch(e){case"AAD":case"ServiceBus":this.performanceData.serverPerformanceData.totalRemote+=t.count;break;case"BlobStorage":case"TableStorage":this.performanceData.serverPerformanceData.storage+=t.count,this.performanceData.serverPerformanceData.totalRemote+=t.count;break;case"Redis":this.performanceData.serverPerformanceData.redis+=t.count,this.performanceData.serverPerformanceData.totalRemote+=t.count;break;case"SQL":this.performanceData.serverPerformanceData.sql+=t.count,this.performanceData.serverPerformanceData.totalRemote+=t.count;break;case"VssClient":this.performanceData.serverPerformanceData.rest+=t.count,this.performanceData.serverPerformanceData.totalRemote+=t.count;}}}setNewSessionId(){this.sessionId=(0,r.newGuid)();}_getPageInteractiveTelemetryProperties(e){const t={},n={resourceCount:this.performanceData.contentData.cssCount+this.performanceData.contentData.scriptsCount,scriptResourceCount:this.performanceData.contentData.scriptsCount,cssResourceCount:this.performanceData.contentData.cssCount,ajaxRequests:this.performanceData.contentData.ajaxCount,scriptSize:this.performanceData.contentData.scriptSize,cssSize:this.performanceData.contentData.cssSize};if(e){const e=this.getDefaultNavigationEvents();for(let n=0;n<e.length;n++){const r=__WRAPPED_get(e,n).perfEntry;r&&__WRAPPED_set(t,r.name,'=',{start:r.startTime,duration:r.duration});}n.navigation=t;const r=window.resourceLoadStrategy;r&&(n.resourceLoadStrategy=r);}try{n.screen={h:window.screen.height,w:window.screen.width,winH:window.innerHeight,winW:window.innerWidth,winOH:window.outerHeight,winOW:window.outerWidth};const e=window.navigator;e&&e.connection&&(n.connection={rtt:e.connection.rtt,type:e.connection.effectiveType,downlink:e.connection.downlink});}catch(e){}return n;}resetPerformanceData(e){this.performanceData={timeToInteractive:0,backgroundTab:!1,contentData:{ajaxCount:0,ajaxSize:0,cssCount:0,cssSize:0,other:"",scriptsCount:0,scriptSize:0},serverPerformanceData:{redis:0,rest:0,sql:0,storage:0,totalRemote:0},initialPageLoad:e};}_shouldCollectResourceTimings(){const e=this.pageContext.getService("IVssPageService").getData(),t=__WRAPPED_get(window,'location').href.indexOf("collectResourceTimings=true")>=0||document.cookie.indexOf("TFS-COLLECT-TIMING=true")>=0,r=this.performanceData.timeToInteractive>8e3;if(e){if(e.isBundlingEnabled&&!e.isDebugMode&&e.isCdnEnabled){if(n)return 1;if(r)return 2;}if(t)return 3;}return 0;}_getContentTelemetryProperties(e){const t={cdnResourceCount:0,diskcachedResourceCount:0,memcachedResourceCount:0,resourceCount:0,skippedResources:0,totalDuration:0,totalTransferSize:0},n={aggregate:t,reason:e};if(0!==e&&(n.individualTimings={}),0===this._completedContentCache.length)return null;try{const e={},r=this.getResourceTimingEntries();for(const t of r)__WRAPPED_set(e,t.name,'=',t);for(const r of this._completedContentCache){if(!r.contentAttributes.clientId)continue;const i=r.contentElement instanceof HTMLLinkElement?r.contentElement.href:r.contentElement.src,o=__WRAPPED_get(e,i),a=s(i);let c,u,l;if(o&&(l=o.transferSize,u=Math.round(o.duration),c=this._extrapolateResourceLoadSource(o),a&&(t.resourceCount++,t.totalTransferSize+=l,t.cdnResourceCount+=a.indexOf("cdn")>=0?1:0,t.diskcachedResourceCount+=2===c?1:0,t.memcachedResourceCount+=1===c?1:0,t.totalDuration+=u,r.previousResourceLoadEnd?t.resourceStartTime=Math.min(t.resourceStartTime||r.previousResourceLoadEnd,r.previousResourceLoadEnd):r.loadStart&&(t.resourceStartTime=Math.min(t.resourceStartTime||r.loadStart,r.loadStart)),r.loadEnd&&(t.resourceEndTime=Math.max(t.resourceEndTime||r.loadEnd,r.loadEnd)))),n.individualTimings){const e={contentType:r.contentAttributes.contentType,contributionId:r.contentAttributes.contributionId,domain:a,loadStart:r.loadStart,loadEnd:r.loadEnd,previousResourceLoadEnd:r.previousResourceLoadEnd};o&&(Object.assign(e,{decodedBodySize:o.decodedBodySize,encodedBodySize:o.encodedBodySize,source:c,totalDuration:u,transferSize:l}),o.requestStart&&(e.requestStart=o.requestStart),o.responseStart&&(e.responseStart=o.responseStart),o.responseEnd&&(e.responseEnd=o.responseEnd)),__WRAPPED_set(n.individualTimings,r.contentAttributes.clientId,'=',e);}}}catch(e){console.warn("Error while collecting telemetry data: "+e&&e.message||e.toString());}return n;}_extrapolateResourceLoadSource(e){const t=e.responseStart-e.requestStart;return e.responseEnd-e.requestStart<10?1:t<60?2:3;}}var c,u;function l(e,t){return`${e}-${t===u.Start?"start":"end"}`;}m.Services.add("IVssPerformanceService",{serviceFactory:a,options:6}),(function(e){function t(e){return(function(e){const t=window.performance&&window.performance.timing&&__WRAPPED_get(window.performance.timing,e)||null;return null!=t;}(e))||r(e).length>0;}function n(e){return window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType(e)||[];}function r(e){return window.performance&&window.performance.getEntriesByName&&window.performance.getEntriesByName(e)||[];}e.mark=function(e){window.performance&&window.performance.mark&&window.performance.mark(e),console&&console.timeStamp&&console.timeStamp(e);},e.measure=function(e,n,r){if(window.performance&&window.performance.measure){if(!t(n)||!t(r))return;window.performance.measure(e,n,r);}},e.getEntriesByType=n,e.getEntriesByName=r,e.getMeasures=function(e){return n("measure");},e.getMarks=function(){return n("mark");},e.getTimingByName=function(e){return window.performance&&window.performance.timing&&__WRAPPED_get(window.performance.timing,e)||null;};}(c=t.Performance.Timing||(t.Performance.Timing={}))),(function(e){__WRAPPED_set(e,e.Start=0,'=',"Start"),__WRAPPED_set(e,e.End=1,'=',"End");}(u||(u={})));}()),(function(e){function r(...e){return e.filter(e=>(e)).join(" ").trim();}I=t.Layout={},a.PropTypes=o,a.createClass=s,t.Layout.css=r,t.Layout.Components=new n.ObservableObject(),t.Layout.VssComponentContext=a.createContext({});class i extends a.Component{constructor(e,t){super(e,t),this.unmountCallbacks=[],t&&(this.context=t),this.componentId=++i.uniqueNumber,i.prototype.componentWillReceiveProps.__suppressDeprecationWarning=!0;}static register(e,n){t.Layout.Components.add(e,n);}componentDidMount(){}componentDidUpdate(e,t,n){this._manageObservables(this.props);}componentWillReceiveProps(e){}componentWillUnmount(){if(this._manageObservables(),this.events&&(this.events.removeAllListeners(),delete this.events),this.timers&&(this.timers.clearAllTimers(),delete this.timers),this.promises)for(const e of this.promises)e.cancel();for(const e of this.unmountCallbacks)e.call(this);}addEventListener(e,t,n,r){this.events||(this.events=new u.EventManagement()),this.events.addEventListener(e,t,n,r);}addUnmountCallback(e){this.unmountCallbacks.push(e);}removeEventListener(e,t,n,r){this.events&&this.events.removeEventListener(e,t,n,r);}clearInterval(e){this.timers&&this.timers.clearInterval(e);}clearTimeout(e){this.timers&&this.timers.clearTimeout(e);}setInterval(e,t,...n){return this.timers||(this.timers=new l.TimerManagement()),this.timers.setInterval(e,t,...n);}setTimeout(e,t,...n){return this.timers||(this.timers=new l.TimerManagement()),this.timers.setTimeout(e,t,...n);}trackPromise(e){this.promises||(this.promises=[]);const t=(0,d.makeCancelable)(e);return e.then(()=>{this.promises=this.promises.filter(e=>(e!==t));},()=>{this.promises=this.promises.filter(e=>(e!==t));}),this.promises.push(t),t;}observe(e){this.observers={},this.observables||(this.observables={});for(const t of e)__WRAPPED_get(this.observers,t.propertyName)||__WRAPPED_set(this.observers,t.propertyName,'=',[]),__WRAPPED_get(this.observers,t.propertyName).push(t);this._manageObservables(this.props);}_manageObservables(e){if(this.observables){for(const e in this.observables){for(const t of __WRAPPED_get(this.observables,e))t.observable.unsubscribe(t.observer,t.action);delete this.observables[e];}if(e&&this.observers)for(const t in this.observers){const n=__WRAPPED_get(e,t);if(n&&n.subscribe&&n.unsubscribe)for(const e of __WRAPPED_get(this.observers,t))n.subscribe(e.observer,e.action),__WRAPPED_get(this.observables,t)||__WRAPPED_set(this.observables,t,'=',[]),__WRAPPED_get(this.observables,t).push({observable:n,observer:e.observer,action:e.action});}}}}t.Layout.VssComponent=i,i.uniqueNumber=0,i.defaultProps={},i.contextType=t.Layout.VssComponentContext;class h extends m.VssService{constructor(){super(...arguments),this.regionMapping={},this.compareDetails=(e,t)=>((e.componentProperties&&e.componentProperties.componentOrder||Number.MAX_VALUE)-(t.componentProperties&&t.componentProperties.componentOrder||Number.MAX_VALUE)),this.onDataProviderQueryEnd=e=>{if(e.dataProviders){const t=e.dataProviders["ms.vss-web.component-data"];if(t)for(const e in t){const r=__WRAPPED_get(t,e),i=__WRAPPED_get(this.regionMapping,e);if(i)for(const e of i.value)r.some(t=>(e.componentId===t.componentId))||r.push(e);else __WRAPPED_set(this.regionMapping,e,'=',new n.ObservableArray());__WRAPPED_get(this.regionMapping,e).splice(0,__WRAPPED_get(this.regionMapping,e).length,...r.sort(this.compareDetails));}}},this.onFpsLoading=e=>{this.callouts&&(this.callouts.forEach((e,t)=>{e();}),this.callouts=void 0),document.body.removeEventListener("fpsLoading",this.onFpsLoading);};}_serviceStart(e){super._serviceStart(e),this.contributionService=this.pageContext.getService("IVssContributionService"),this.contributionService.subscribe(this.onDataProviderQueryEnd,"dpqCompleted");const t=this.contributionService.getData("ms.vss-web.component-data")||{};Object.keys(t).forEach(e=>{__WRAPPED_set(this.regionMapping,e,'=',new n.ObservableArray(__WRAPPED_get(t,e).sort(this.compareDetails)));});}_serviceEnd(e){this.contributionService.unsubscribe(this.onDataProviderQueryEnd,"dpqCompleted");}getComponentsForRegion(e){return __WRAPPED_get(this.regionMapping,e)||__WRAPPED_set(this.regionMapping,e,'=',new n.ObservableArray()),__WRAPPED_get(this.regionMapping,e);}renderCallout(e){const t=document.createElement("div");document.body.appendChild(t);const n=p++,r=()=>{this.callouts&&this.callouts.has(n)&&(c.unmountComponentAtNode(t),document.body.removeChild(t),this.callouts.delete(n));};void 0===this.callouts&&(this.callouts=new Map(),document.body.addEventListener("fpsLoading",this.onFpsLoading)),this.callouts.set(n,r),c.render(a.createElement(v,{pageContext:this.pageContext},e(r)),t);}getFullScreenMode(){return this._fullScreenMode||(this._fullScreenMode=new n.ObservableValue(-1!==__WRAPPED_get(window,'location').href.indexOf("fullScreen=true"))),this._fullScreenMode;}setFullScreenMode(e){this._fullScreenMode?this._fullScreenMode.value=e:this._fullScreenMode=new n.ObservableValue(e),e?document.body&&document.body.classList.add("full-screen-mode"):document.body&&document.body.classList.remove("full-screen-mode");}toggleFullScreenMode(){this.setFullScreenMode(!this.getFullScreenMode().value);}}m.Services.add("IVssLayoutManager",{serviceFactory:h});let p=0;class g extends m.VssService{constructor(){super(...arguments),this.reactRootKey=0;}_serviceStart(e){super._serviceStart(e),this.pageRegions=document.querySelectorAll("[data-componentregion]"),this.pageContext.platformInitialized.subscribe(e=>{e&&this.renderPage();});}renderPage(){const e=this.pageContext.getService("IVssPerformanceService");e.addSplitTiming("VssPageRenderingService.renderPage.start");const t=this.pageContext.getService("IVssLayoutManager");t.setFullScreenMode(t.getFullScreenMode().value);let n=this.pageRegions.length;const r=()=>{if(0==--n){0;this.pageContext.getService("IVssContributionEventService").fireEvent("page-rendered",{},!0);}};for(let e=0;e<this.pageRegions.length;e++){const t=__WRAPPED_get(this.pageRegions,e).getAttribute("data-componentregion");t?c.render(a.createElement(v,{key:this.reactRootKey++,pageContext:this.pageContext},a.createElement(f,{componentRegion:t,className:"full-size"},null)),__WRAPPED_get(this.pageRegions,e),r):r();}e.addSplitTiming("VssPageRenderingService.renderPage.end");}}m.Services.add("VssPageRenderingService",{serviceFactory:g,options:6});class v extends i{render(){const e=a.createElement(t.Layout.VssComponentContext.Provider,{value:{pageContext:this.props.pageContext}},this.props.children);return e;}}t.Layout.ReactRootComponent=v;class f extends i{render(){const e=this.context.pageContext.getService("IVssLayoutManager").getComponentsForRegion(this.props.componentRegion);return 0===e.length&&this.props.fallbackComponent?this.props.fallbackComponent():a.createElement("div",{className:r(this.props.className,"region-"+this.props.componentRegion),"data-renderedregion":this.props.componentRegion,id:this.props.id,role:this.props.role},e.value.map((e,t)=>(a.createElement(S,Object.assign(Object.assign(Object.assign({key:t},this.props.childComponentProperties),e.componentProperties),{wrappedType:e.componentType})))));}}function S(e){const n=b(),__cas_var0=(0,d.usePromise)(),r=__cas_var0.trackPromise;let i;if(e.dependencies){const t=n.pageContext.getService("IVssContributionService"),r=e.dependencies.filter(e=>(!t.isContributionResolved(e)));r.length&&(i=r);}const [s,o]=a.useState(()=>(t.Layout.Components.get(e.wrappedType))),[c,u]=a.useState(!i&&!e.onDependenciesResolved),[l,h]=a.useState(!1);return a.useEffect(()=>{const t=async()=>{if(e.onDependenciesResolved){const t=e.onDependenciesResolved();if(t)try{await r(t);}catch(e){}}};if(i){const i=n.pageContext.getService("IVssContributionService");r(i.getContributionsAsync(e.dependencies||[])).then(async()=>{await t(),u(!0);}).catch(e=>{!e||e.canceled||e.isCanceled||console.error(e);});}else e.onDependenciesResolved&&t().then(()=>{u(!0);});},[e.dependencies]),a.useEffect(()=>{const n=t.Layout.Components.get(e.wrappedType);if(!n){const n=r=>{r.key===e.wrappedType&&(t.Layout.Components.unsubscribe(n,"add"),o(()=>(r.value)));};return t.Layout.Components.subscribe(n,"add"),()=>{t.Layout.Components.unsubscribe(n,"add");};}o(()=>(n));},[e.wrappedType]),a.useEffect(()=>{if(e.loadingComponent&&(!s||!c)){const e=setTimeout(()=>{h(!0);},100);return()=>{clearTimeout(e);};}},[e.loadingComponent]),s&&c&&a.createElement(s,Object.assign({ref:e.wrappedRef},e.wrappedProps||e),e.children)||l&&e.loadingComponent&&e.loadingComponent()||null;}function b(){return a.useContext(t.Layout.VssComponentContext);}function y(){return b().pageContext;}t.Layout.RegionComponent=f,t.Layout.Components.add("ms.vss-web.region",f),t.Layout.WrappedComponent=S,t.Layout.useComponentContext=b,t.Layout.usePageContext=y,t.Layout.useService=function(e){const t=y();return a.useMemo(()=>(t.getService(e)),[t]);},t.Layout.useIsMounted=function(){const e=a.useRef(!1);return a.useEffect(()=>((e.current=!0,()=>{e.current=!1;})),[]),a.useCallback(()=>(e.current),[]);};}()),(function(e){_=t.Navigation={};class n extends m.VssService{static afterSetMetaViewport(e){const t=Date.now(),n=()=>{e!==window.innerWidth?window.requestAnimationFrame(()=>(window.dispatchEvent(new Event("resize")))):t+1e3>Date.now()&&window.requestAnimationFrame(n);};n();}_serviceStart(e){super._serviceStart(e);const t=e.getService("IVssContributionService");if(this.navigationData=t.getData("ms.vss-web.navigation-data"),!this.navigationData)return;let r=this.navigationData.resolvedUrl;if(r){__WRAPPED_get(window,'location').hash&&(r+=__WRAPPED_get(window,'location').hash);try{window.history.replaceState(history.state,document.title,r);}catch(e){console.error(`Failed to update URL to '${r}: ${e.message}`);}}if(this.navigationData.navigation){if(__WRAPPED_get(this.navigationData,'location'))for(const e in this.navigationData.navigation){const t=__WRAPPED_get(this.navigationData.navigation,e);t.href=__WRAPPED_get(__WRAPPED_get(this.navigationData,'location'),t.id);}let e=!1;for(let t=this.navigationData.displayed.length-1;t>=0;t--)e=__WRAPPED_get(this.navigationData.navigation,__WRAPPED_get(this.navigationData.displayed,t)).supportsMobile||e;let t=document.querySelector("meta[name=viewport]");e&&!t&&(t=document.createElement("meta"),t.name="viewport",document.head.appendChild(t));const r=t&&t.content,i=e?"width=device-width, initial-scale=1.0":"";if(t&&r!==i){const e=window.innerWidth;t.content=i,n.afterSetMetaViewport(e);}if(this.navigationData.hierarchy){for(const e in this.navigationData.hierarchy){const t=__WRAPPED_get(this.navigationData.navigation,e),n=__WRAPPED_get(this.navigationData.hierarchy,e),r={},i=[];t.children=[];for(const e of n){const n=__WRAPPED_get(this.navigationData.navigation,e);2!=(2&(n.flags||0))&&(n.order=(n.order||0)+1e5),void 0!==n.flags&&32!=(32&n.flags)?(n.parentId=t.id,t.children.push(n)):n.href&&i.push(n);}t.children.sort((e,t)=>{let n=e.order-t.order;return 0===n&&(n=e.id.toUpperCase().localeCompare(t.id.toUpperCase())),n;});let s=1;for(const e of t.children){const t=e.navGroup||"";__WRAPPED_get(r,t)||__WRAPPED_set(r,t,'=',s++);}if(t.children.sort((e,t)=>{let n=__WRAPPED_get(r,e.navGroup||"")-__WRAPPED_get(r,t.navGroup||"");return 0===n&&(n=e.order-t.order,0===n&&(n=e.id.localeCompare(t.id))),n;}),!t.href){for(const e of t.children)if(e.href){t.href=e.href;break;}!t.href&&i.length>0&&(i.sort((e,t)=>(e.order-t.order)),t.href=i[0].href);}}if(this.matchedRoute={routeId:this.navigationData.routeId,parsedRoutes:[],routeTemplates:this.navigationData.routeTemplates,routeValues:this.navigationData.routeValues},this.navigationData.routeTemplates)for(const e of this.navigationData.routeTemplates)this.matchedRoute.parsedRoutes.push((0,S.parseRouteTemplate)(e));}}}getCurrentRoute(){return this.matchedRoute;}getDisplayedNavigation(){return this.navigationData.displayed;}getNavigation(e){return __WRAPPED_get(this.navigationData.navigation,e);}getRouteValues(){return this.navigationData.routeValues;}isDisplayed(e){return-1!=this.navigationData.displayed.indexOf(e);}getPageTitle(){return this.navigationData.pageTitle;}}m.Services.add("IVssNavigationService",{serviceFactory:n,options:4}),t.Navigation.getCurrentRoute=function(e){return e.getService("IVssNavigationService").getCurrentRoute();},t.Navigation.getDisplayedNavigation=function(e){return e.getService("IVssNavigationService").getDisplayedNavigation();},t.Navigation.getNavigation=function(e,t){return e.getService("IVssNavigationService").getNavigation(t);},t.Navigation.getRouteValues=function(e){return e.getService("IVssNavigationService").getRouteValues();},t.Navigation.isDisplayed=function(e,t){return e.getService("IVssNavigationService").isDisplayed(t);};}()),(function(e){__WRAPPED_set(t,e,'=',{});class n extends b.RestClientBase{constructor(e){super(e);}async publishEvents(e){return this.beginRequest({apiVersion:"4.1-preview.1",method:"POST",routeTemplate:"_apis/ClientTrace/Events",body:e});}}__WRAPPED_get(t,e).ClientTraceClientName="IClientTraceRestClient",__WRAPPED_get(t,e).getClientTraceClient=function(n,r){return n.getRestClient(__WRAPPED_get(t,e).ClientTraceClientName,r);},m.RestClients.add(__WRAPPED_get(t,e).ClientTraceClientName,{factory:n});}("RestClientClientTrace")),(function(e){t.Trace={},t.Trace.traceError=function(e,t,n,r,i){e.getService("IVssTraceService").traceError(t,n,r,i);},t.Trace.traceException=function(e,t,n,r,i){e.getService("IVssTraceService").traceException(t,n,r,i);},t.Trace.traceWarning=function(e,t,n,r,i){e.getService("IVssTraceService").traceWarning(t,n,r,i);},t.Trace.trace=function(e,t){e.getService("IVssTraceService").trace(t);};class n extends m.VssService{constructor(){super(...arguments),this.events=[],this.globalErrorCount=0,this._onWindowError=e=>{if(e.filename&&this.globalErrorCount++<5){const t={filename:e.filename,lineNumber:e.lineno,columnNumber:e.colno,errorType:"UnhandledException"};this.traceException("WebUnhandledExceptions",(0,_.getCurrentRoute)(this.pageContext).routeId,e.error,t);}},this._onUnhandledRejection=e=>{const t=e.reason;t&&!t.isCanceled&&(console.warn(`Unhandled promise rejection: ${t}${t.stack?"\\n"+t.stack:""}`),this.globalErrorCount++<5&&this.traceException("WebUnhandledExceptions",(0,_.getCurrentRoute)(this.pageContext).routeId,t,{errorType:"UnhandledRejection"}));};}_serviceStart(e){if(super._serviceStart(e),onPreTraceServiceError&&window.removeEventListener("error",onPreTraceServiceError),preTraceServiceStartErrors&&preTraceServiceStartErrors.length>0){for(const e of preTraceServiceStartErrors)this._onWindowError(e);preTraceServiceStartErrors.length=0;}this.publishInterval=window.setInterval(this._sendEvents.bind(this),1e3),window.addEventListener("error",this._onWindowError),window.addEventListener("unhandledrejection",this._onUnhandledRejection);}_serviceRestart(e){super._serviceRestart(e),this.globalErrorCount=0,this._sendEvents();}_serviceEnd(e){this.publishInterval&&(window.clearInterval(this.publishInterval),this.publishInterval=0),window.removeEventListener("error",this._onWindowError),window.removeEventListener("unhandledrejection",this._onUnhandledRejection),super._serviceEnd(e);}traceError(e,t,n,r){const i={area:e,feature:t,message:n,properties:r,level:1};this.trace(i);}traceException(e,t,n,r){const i={area:e,feature:t,message:n?n.message:n||"unknown",exceptionType:"",properties:r,level:2};n&&(i.properties||(i.properties={}),i.properties.stackTrace=n.stack,i.exceptionType=n.name),this.trace(i);}traceWarning(e,t,n,r){const i={area:e,feature:t,message:n,properties:r,level:2};this.trace(i);}trace(e){this.events.push(e);}_sendEvents(){if(this.events.length>0){const e=this.events;let t;this.events=[];const n=this.pageContext.getService("IMsalTokenProviderService").getSilentProvider();n&&(t={authTokenProvider:n});this.pageContext.getRestClient("IClientTraceRestClient",t).publishEvents(e);}}}m.Services.add("IVssTraceService",{serviceFactory:n,options:6});}()),(function(e){k=__WRAPPED_set(t,e,'=',{});class n extends I.VssComponent{constructor(e){super(e),this.state={};}componentDidCatch(e,t){if(this.setState({error:e,errorInfo:t}),e){const n=this.context.pageContext.getService("IVssNavigationService").getCurrentRoute().routeId,r={};t&&t.componentStack&&(r.componentStack=t.componentStack);this.context.pageContext.getService("IVssTraceService").traceException("WebUnhandledExceptions",n,e,r);}}render(){if(this.state.error){const e=this.props.handlerComponentProps||{},t=Object.assign(Object.assign({},e),{reloadComponent:()=>{this.setState({error:void 0,errorInfo:void 0});},error:this.state.error,errorInfo:this.state.errorInfo});return a.createElement(I.WrappedComponent,{wrappedType:this.props.handlerComponentType,wrappedProps:t,key:"error-boundary-ui"},[]);}return this.props.children;}}__WRAPPED_get(t,e).ErrorBoundary=n;}("ComponentsErrorBoundaryErrorBoundary")),__WRAPPED_set(t,B="ComponentsErrorBoundary",'=',{}),__exportStar(k,__WRAPPED_get(t,B)),(function(e){D=__WRAPPED_set(t,e,'=',{});__WRAPPED_get(t,e).FormatComponent=e=>{let t;const __cas_var1=e,n=__cas_var1.format,r=__cas_var1.elementType,i=__cas_var1.children,s=__rest(e,["format","elementType","children"]);if(n){const e=n.split(/(?:\{)([0-9]+)(?:\})/),r=a.Children.toArray(i);t=[];const s={};for(let n=0;n<e.length;++n){const i=__WRAPPED_get(e,n);if(1&n){const e=parseInt(i,10);if(__WRAPPED_get(s,e))throw new Error(`Index in the format can only be used once, recurring index is ${e}`);{const n=__WRAPPED_get(r,e);if(!n)throw new Error(`No element found for the specified index ${e}`);t.push(n),__WRAPPED_set(s,e,'=',!0);}}else t.push(i);}}return null===r?a.createElement(a.Fragment,null,t||i):a.createElement(r||"span",s,t||i);};}("ComponentsFormatFormat")),t.ComponentsFormat={},__exportStar(D,t.ComponentsFormat),(function(e){R=__WRAPPED_set(t,e,'=',{});class n extends I.VssComponent{render(){return a.createElement(this.props.elementType||"div",{"aria-label":this.props["aria-label"],className:(0,I.css)(this.props.orientation&&"column"===this.props.orientation?"flex-column":"flex-row",this.props.className)},this.props.components.map((e,t)=>{let n;return e.componentType?n=a.createElement(I.WrappedComponent,Object.assign(Object.assign({key:t,hasBoundary:!!e.errorBoundaryProps},e.componentProperties),{wrappedType:e.componentType})):e.componentRegion&&(n=a.createElement(I.RegionComponent,Object.assign(Object.assign({key:t,hasBoundary:!!e.errorBoundaryProps},e.componentProperties),{componentRegion:e.componentRegion}))),e.errorBoundaryProps?a.createElement(k.ErrorBoundary,Object.assign({key:t},e.errorBoundaryProps),n):n;}));}}__WRAPPED_get(t,e).LayoutComponent=n,n.componentType="layout",I.VssComponent.register(n.componentType,n);class r extends I.VssComponent{render(){return a.createElement("div",{className:(0,I.css)("flex-grow",this.props.className)});}}__WRAPPED_get(t,e).LayoutFillerComponent=r,r.componentType="layoutFiller",I.VssComponent.register(r.componentType,r);class i extends I.VssComponent{render(){return a.createElement(this.props.elementType||"div",{className:this.props.className},this.props.text);}}__WRAPPED_get(t,e).HtmlElementComponent=i,i.componentType="htmlElement",I.VssComponent.register(i.componentType,i);class s extends a.Component{render(){return null;}}__WRAPPED_get(t,e).NoOpComponent=s,s.componentType="NoOp",I.VssComponent.register(s.componentType,s);}("ComponentsLayoutLayout")),t.ComponentsLayout={},__exportStar(R,t.ComponentsLayout),(function(e){var n;x=t.History={},(function(e){e.statePopped="statePopped";}(n=t.History.HistoryServiceEventNames||(t.History.HistoryServiceEventNames={})));class r extends m.VssObservableService{constructor(){super(...arguments),this.onbeginDataProviderQuery=e=>{e.properties.sourcePage={url:__WRAPPED_get(window,'location').href,routeId:this._currentRoute.routeId,routeValues:this.getCurrentRouteValues()};},this._onPopState=e=>{const t=e.state;let r;t&&t.vssNavigationState&&(r=t.vssNavigationState);const i=this._currentState;this._currentState=r;const s={oldState:i,newState:r};this._notify(s,n.statePopped);};}_serviceStart(e){super._serviceStart(e),this._initialize(),window.addEventListener("popstate",this._onPopState),this._currentRoute&&this.replaceState(void 0,void 0);}_serviceRestart(e){super._serviceRestart(e),this._initialize(),this.replaceState(void 0,__WRAPPED_get(window,'location').href);}replaceState(e,t,n,r){this._setState(!0,e,t,n,r);}pushState(e,t,n,r){this._setState(!1,e,t,n,r);}getData(){return this._currentState&&this._currentState.data;}getState(){let e;return e=this._currentState&&this._currentState.state?Object.assign({},this._currentState.state):this._getStateFromUrl(__WRAPPED_get(window,'location').href),e;}generateUrl(e,t=2){const n=this._currentRoute.routeValues;let r;switch(t){case 2:r=Object.assign(Object.assign({},this.getState()),e);break;case 1:r=Object.assign(Object.assign({},this.getCurrentRouteValues()),e);break;default:r=e;}const i=(0,S.getBestRouteMatch)(this._currentRoute.parsedRoutes,r);let s="";i&&(s=i.url);const o=new S.Uri((0,S.combineUrlPaths)(this._pageData.hostPath,s));if(i)for(const e in r)if(!__WRAPPED_get(i.matchedParameters,e)){const t=__WRAPPED_get(r,e);null!=t&&__WRAPPED_get(n,e)!==t&&o.addQueryParam(e,t);}return o.absoluteUri;}getCurrentRouteValues(){const e=this._currentRoute.routeValues,t={},n=this.getState();for(const r in e)__WRAPPED_set(t,r,'=',__WRAPPED_get(n,r));return t;}_initialize(){const e=this.pageContext.getService("IVssPageService");this._pageData=e.getData();const t=this.pageContext.getService("IVssNavigationService");this._currentRoute=t.getCurrentRoute(),this._unsubscribeOnRestart&&this._unsubscribeOnRestart();const n=this.pageContext.getService("IVssContributionService");n.subscribe(this.onbeginDataProviderQuery,"dpqStarting"),this._unsubscribeOnRestart=()=>{n.unsubscribe(this.onbeginDataProviderQuery,"dpqStarting");};}_setState(e,t,n,r,i){n&&!t?t=this._getStateFromUrl(n):t&&!n?n=this.generateUrl(t,0):n||t||(n=__WRAPPED_get(window,'location').href,(t=this._currentState&&this._currentState.state)||(t=this._getStateFromUrl(n))),null==r&&(r=this._currentRoute.routeId);const s=window.history.state;let o={};e&&s&&s.vssNavigationState&&(o=s.vssNavigationState.data),i&&(o=Object.assign(Object.assign({},o),i));const a={state:t,routeId:r,data:o,url:n},c=e?Object.assign(Object.assign({},s),{vssNavigationState:a}):{vssNavigationState:a};this._currentState=a,e||__WRAPPED_get(window,'location').href===n?window.history.replaceState(c,void 0,n):window.history.pushState(c,void 0,n);}_getStateFromUrl(e){const t=Object.assign({},this._currentRoute.routeValues);if(e){const n=new S.Uri(e);for(const e of n.queryParameters)__WRAPPED_set(t,e.name,'=',e.value||"");}return t;}}m.Services.add("IVssHistoryService",{serviceFactory:r,options:6});}()),(function(e){N=t.FPS={};const n="navigation/fpsCIEvent";let r,i=0;function s(e,t,n={}){const r=e.getService("IVssNavigationService"),i=e.getService("IVssPageService").getData(),s=r.getDisplayedNavigation();return Object.assign(Object.assign({},n),{source:t||"unknown",sourceNavigationId:s[s.length-1],sourceRouteId:r.getCurrentRoute().routeId,startNavigationOffset:Date.now()-window.performance.timing.navigationStart,serviceVersion:i?i.serviceVersion:void 0});}function o(e,t){t.endNavigationOffset=Date.now()-window.performance.timing.navigationStart,(0,E.publishEvent)(e,"WebPlatform","FPS",t);}function a(e,t,a,c={}){var u;const l=++i,h={pageContext:e,href:t,recordHistoryEntry:a,data:c,startTime:Date.now()};r&&(r.cancel(),r=null);const p=s(e,c.telemetrySource,c.telemetryProperties);if(null===(u=p.sourceRouteId)||void 0===u?void 0:u.startsWith("ms.vss-advsec."))return __WRAPPED_get(window,'location').href=t,Promise.resolve(!1);const m=new CustomEvent("fpsStarting",{cancelable:!0,detail:Object.assign({},h)});if(document.body.dispatchEvent(m)){const i={cache:"no-cache",method:"GET",mode:"same-origin"},s=new S.Uri(t);s.addQueryParam("__rt","fps");const c=e.getService("IVssPageService").getData();c&&s.addQueryParam("__ver",""+c.webPlatformVersion),document.body.dispatchEvent(new CustomEvent("fpsLoading",{cancelable:!1,detail:Object.assign({},h)}));let u;e.getService("IVssPerformanceService").addSplitTiming("fpsRequestStarting");const m=e.getService("IMsalTokenProviderService").getRedirectProvider(new S.Uri(t).absoluteUri);m&&(u={authTokenProvider:m});const v=(0,d.makeCancelable)((0,f.issueRequest)(s.absoluteUri,i,u)),b=v.promise.then(i=>((r===v&&(r=null),i.text().then(r=>{e.getService("IVssPerformanceService").addSplitTiming("fpsResponseReceived");let i=null;try{i=(0,g.deserializeVssJsonObject)(r);}catch(e){return console.log(`Not a valid FPS response: ${e.message||e}. Performing full page navigation`),p.invalidFPSResponse=!0,(0,P.trySetLocalStorageObject)(n,p),__WRAPPED_get(window,'location').href=t,!0;}const s=i&&i.fps;if(s&&(s.dataProviders&&(0,g.updateJsonScriptValue)("dataProviders",s.dataProviders,!0),s.performance&&(0,g.updateJsonScriptValue)("serverStatistics",s.performance),s.content)){if(e.getService("IFastPageSwitchService").hasStaleContent(s.content))return p.staleContent=!0,o(e,p),__WRAPPED_get(window,'location').href=t,!0;const n=e.getService("IVssContentService");n.resetResolvedContent(),n.loadScripts(s.content);}const c=e.getService("IVssHistoryService");a?c.pushState(void 0,t,void 0,{fpsNavigationId:l}):c.replaceState(void 0,t,void 0,{fpsNavigationId:l}),document.body.dispatchEvent(new CustomEvent("fpsLoaded",{cancelable:!1,detail:Object.assign({fpsResponse:i},h)})),document.body.dispatchEvent(new CustomEvent("fpsCompleted",{cancelable:!1,detail:Object.assign({fpsResponse:i,success:!0},h)}));const u=e.getService("IVssNavigationService"),d=u.getDisplayedNavigation();return p.targetNavigationId=d[d.length-1],p.targetRouteId=u.getCurrentRoute().routeId,p.success=!0,o(e,p),!0;})))).catch(i=>((r!==v||i.isCanceled?(p.cancelledByOtherFPS=!0,o(e,p)):(p.failed=!0,(0,P.trySetLocalStorageObject)(n,p),__WRAPPED_get(window,'location').href=t),r===v&&(r=null),document.body.dispatchEvent(new CustomEvent("fpsCompleted",{cancelable:!1,detail:Object.assign({success:!1,reason:i},h)})),!1)));return r=v,b;}return p.cancelledByUser=!0,m.detail.cancellationReason&&(p.cancellationReason=m.detail.cancellationReason),o(e,p),Promise.resolve(!1);}t.FPS.onClickFPS=function(e,t,n,r,i={}){const __cas_var2=r||{},c=__cas_var2.ctrlKey,u=__cas_var2.metaKey,l=__cas_var2.shiftKey,d=__cas_var2.button;if(!(c||u||l||1===d))return a(e,t,n,i),r&&r.preventDefault(),!0;o(e,Object.assign(Object.assign({},s(e,i.telemetrySource,i.telemetryProperties)),{external:!0,ctrlKey:c,metaKey:u,shiftKey:l,middleClick:1===d}));},t.FPS.FastPageSwitch=a;class c extends m.VssService{constructor(){super(...arguments),this.loadedContentIntegrity={},this.loadedContentFilenames={},this._onNavigate=e=>{if(e.newState){(e.oldState&&e.oldState.data&&e.oldState.data.fpsNavigationId)!==(e.newState.data&&e.newState.data.fpsNavigationId)&&a(this.pageContext,e.newState.url,!1,{});}},this._onContentLoaded=e=>{const t=e.contentAttributes;t&&t.clientId&&(t.integrity&&__WRAPPED_set(this.loadedContentIntegrity,t.clientId,'=',t.integrity),__WRAPPED_set(this.loadedContentFilenames,t.clientId,'=',this.getFileName(t.url)));};}_serviceStart(e){super._serviceStart(e);try{const t=(0,P.tryGetLocalStorageObject)(n);if((0,P.trySetLocalStorageObject)(n,void 0),t){const n=e.getService("IVssNavigationService"),r=n.getDisplayedNavigation();t.targetNavigationId=r[r.length-1],t.targetRouteId=n.getCurrentRoute().routeId,o(e,t);}}catch(e){}e.getService("IVssHistoryService").subscribe(this._onNavigate,x.HistoryServiceEventNames.statePopped);const t=e.getService("IVssPageService").getData();if(t&&t.isBundlingEnabled){this.bundlingEnabled=!0;e.getService("IVssContentService").subscribe(this._onContentLoaded,"contentComplete");}}hasStaleContent(e){let t=!1;if(this.bundlingEnabled)for(const n of e)if(n.clientId){if(n.integrity){const e=__WRAPPED_get(this.loadedContentIntegrity,n.clientId);if(e&&e!==n.integrity){t=!0;break;}}const e=__WRAPPED_get(this.loadedContentFilenames,n.clientId);if(e&&e!==this.getFileName(n.url)){t=!0;break;}}return t;}getFileName(e){const t=e.lastIndexOf("/");return t>=0?e.substr(t+1):e;}}m.Services.add("IFastPageSwitchService",{serviceFactory:c,options:6});}()),(function(e){L=__WRAPPED_set(t,e,'=',{});class n extends I.VssComponent{render(){const e=Object.assign(Object.assign({},this.props),{onClick:e=>{e.isDefaultPrevented()||(this.props.href&&!1!==this.props.supportsFPS?(0,N.onClickFPS)(this.context.pageContext,this.props.href,!0,e,{telemetrySource:this.props.telemetrySource,telemetryProperties:this.props.telemetryProperties,navigationId:this.props.navigationId}):this.props.telemetrySource&&(0,E.publishEvent)(this.context.pageContext,"WebPlatform","Link",Object.assign(Object.assign({},this.props.telemetryProperties||{}),{source:this.props.telemetrySource})));}});return delete e.navigationId,delete e.supportsFPS,delete e.telemetrySource,delete e.telemetryProperties,a.createElement("a",e,this.props.children);}}__WRAPPED_get(t,e).FPSLinkComponent=n;}("ComponentsFPSLinkFPSLink")),t.ComponentsFPSLink={},__exportStar(L,t.ComponentsFPSLink),(function(e){F=__WRAPPED_set(t,e,'=',{}),__WRAPPED_get(t,e).PerformanceScenarioContext=a.createContext({getScenario:()=>{},registerPendingWork:()=>{},resetScenario:()=>{}});class n extends I.VssComponent{constructor(){super(...arguments),this.pendingWork=[],this.scenarioComplete=!1,this.mounted=!1;}render(){const __cas_var3=this.props,n=__cas_var3.area,r=__cas_var3.scenarioName,i=__cas_var3.startTime,s=__cas_var3.telemetryProperties,o=__cas_var3.tti,c=this.context.pageContext.getService("IVssPerformanceService");return this.scenario=i?c.startScenario(r,!!o,i.getTime(),s):c.startScenarioFromNavigation(r,!!o,s),this.scenario.featureArea=n,a.createElement(__WRAPPED_get(t,e).PerformanceScenarioContext.Provider,{value:{getScenario:()=>(this.scenario),registerPendingWork:e=>{const t={name:e,completed:!1,complete:()=>{t.completed||(t.completed=!0,c.addSplitTiming(e+".end",r),this.checkForScenarioComplete());}};return this.pendingWork.push(t),c.addSplitTiming(e+".start",r),t;},resetScenario:()=>((this.scenarioComplete=!1,this.pendingWork.length=0,this.scenario=c.startScenario(r,!!o,Date.now(),s),this.scenario))}},this.props.children);}componentDidMount(){super.componentDidMount(),this.mounted=!0,this.checkForScenarioComplete();}componentWillUnmount(){super.componentWillUnmount(),this.mounted=!1;}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.checkForScenarioComplete();}checkForScenarioComplete(){this.mounted&&!this.scenarioComplete&&this.pendingWork.every(e=>(e.completed))&&(this.scenarioComplete=!0,this.scenario.complete());}}__WRAPPED_get(t,e).PerformanceScenario=n;}("ComponentsPerformancePerformance")),(function(e){__WRAPPED_set(t,e,'=',{}),__exportStar(F,__WRAPPED_get(t,e));}("ComponentsPerformance")),(function(e){M=t.Feature={};class n extends m.VssService{isFeatureEnabled(e,t){const n=this.getSharedDataState("_features",e,t);if(void 0===n){const t=`Could not find feature state for feature '${e}'. Ensure that the feature is included in shared data.`;return console.warn(t),!1;}return n;}isFeatureFlagEnabled(e,t){const n=this.getSharedDataState("_featureFlags",e,t);if(void 0===n){const t=`Could not find feature flag state for '${e}'. Ensure that the feature flag is included in shared data.`;return console.warn(t),!1;}return n;}getSharedDataState(e,t,n){const r=this.pageContext.getService("IVssContributionService").getSharedData(e);if(r){const e=__WRAPPED_get(r,t);if(void 0!==e)return e;}return n;}}m.Services.add("IVssFeatureService",{serviceFactory:n}),t.Feature.isFeatureEnabled=function(e,t,n){return e.getService("IVssFeatureService").isFeatureEnabled(t,n);},t.Feature.isFeatureFlagEnabled=function(e,t,n){return e.getService("IVssFeatureService").isFeatureFlagEnabled(t,n);};}()),(function(e){let n,r,i,s;function o(){return r||(r={name:"en-US",numberFormat:{CurrencyDecimalDigits:2,CurrencyDecimalSeparator:".",CurrencyGroupSizes:[3],NumberGroupSizes:[3],PercentGroupSizes:[3],CurrencyGroupSeparator:",",CurrencySymbol:"$",NaNSymbol:"NaN",CurrencyNegativePattern:0,NumberNegativePattern:1,PercentPositivePattern:0,PercentNegativePattern:0,NegativeInfinitySymbol:"-Infinity",NegativeSign:"-",NumberDecimalDigits:2,NumberDecimalSeparator:".",NumberGroupSeparator:",",CurrencyPositivePattern:0,PositiveInfinitySymbol:"Infinity",PositiveSign:"+",PercentDecimalDigits:2,PercentDecimalSeparator:".",PercentGroupSeparator:",",PercentSymbol:"%",PerMilleSymbol:"‰",NativeDigits:["0","1","2","3","4","5","6","7","8","9"],DigitSubstitution:1},numberShortForm:{QuantitySymbols:["K","M","B"],NumberGroupSize:1e3,ThousandSymbol:"K"},dateTimeFormat:{AMDesignator:"AM",Calendar:{MinSupportedDateTime:"@-62135568000000@",MaxSupportedDateTime:"@253402300799999@",AlgorithmType:1,CalendarType:1,Eras:[1],TwoDigitYearMax:2029},DateSeparator:"/",FirstDayOfWeek:0,CalendarWeekRule:0,FullDateTimePattern:"dddd, MMMM dd, yyyy h:mm:ss tt",LongDatePattern:"dddd, MMMM dd, yyyy",LongTimePattern:"h:mm:ss tt",MonthDayPattern:"MMMM dd",PMDesignator:"PM",RFC1123Pattern:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",ShortDatePattern:"M/d/yyyy",ShortTimePattern:"h:mm tt",SortableDateTimePattern:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",TimeSeparator:":",UniversalSortableDateTimePattern:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",YearMonthPattern:"MMMM, yyyy",AbbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ShortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],DayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],AbbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],MonthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],NativeCalendarName:"Gregorian Calendar",AbbreviatedMonthGenitiveNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],MonthGenitiveNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],eras:[1,"A.D.",null,0]}}),r;}A=t.Culture={},t.Culture.getInvariantCulture=o,t.Culture.checkIfCustomerCurrentCultureExists=function(){var e;return void 0===i&&(i=Boolean(null===(e=(0,m.getPageContext)("ms.vss-web.legacy-platform-data-provider"))||void 0===e?void 0:e.microsoftAjaxConfig)),i;},t.Culture.getCurrentCulture=function(){var e;if(!n){var t=null===(e=(0,m.getPageContext)("ms.vss-web.legacy-platform-data-provider"))||void 0===e?void 0:e.microsoftAjaxConfig;t&&t.cultureInfo?(n=t.cultureInfo,t.cultureInfo.eras&&(n.dateTimeFormat.eras=t.cultureInfo.eras)):n=o();}return n;},t.Culture.checkIfFetchingCultureFromContributionEnabled=function(){var e;if(void 0===s){const t=(0,m.getService)("IVssFeatureService");s=null===(e=null==t?void 0:t.isFeatureFlagEnabled("WebAccess.WorkItemTracking.FetchingCultureFromContributionDisabled"))||void 0===e||e;}return!s;};}()),(function(e){function n(e,t,n){return r.dateToString(e,t,n||"g");}var r;V=t.String={},t.String.dateToString=n,t.String.parseShortTimeString=function(e){if((0,A.checkIfFetchingCultureFromContributionEnabled)()&&(0,A.checkIfCustomerCurrentCultureExists)())return r.parseShortTimeString(e,(0,A.getCurrentCulture)());},t.String.format=function(e,...t){return(function(e,t,r){let i="";for(let s=0;;){const o=t.indexOf("{",s),a=t.indexOf("}",s);if(o<0&&a<0){i+=t.slice(s);break;}if(a>0&&(a<o||o<0)){if("}"!==t.charAt(a+1))throw new Error("The format string contains an unmatched opening or closing brace.");i+=t.slice(s,a+1),s=a+2;continue;}if(i+=t.slice(s,o),s=o+1,"{"===t.charAt(s)){i+="{",s++;continue;}if(a<0)throw new Error("The format string contains an unmatched opening or closing brace.");const c=t.substring(s,a),u=c.indexOf(":"),l=parseInt(u<0?c:c.substring(0,u),10);if(isNaN(l))throw new Error("The format string is invalid.");const d=u<0?"":c.substring(u+1);let h=__WRAPPED_get(r,l);null==h&&(h=""),h.toFormattedString?i+=h.toFormattedString(d):h instanceof Date?i+=n(h,e):h.format?i+=h.format(d):i+=h.toString(),s=a+1;}return i;}(!1,e,t));},(function(e){function t(e,t){if(!t)return 0;let n;const r=e.getTime();for(let e=0,i=t.length;e<i;e+=4)if(n=t[e+2],null===n||r>=n)return e;return 0;}function n(e,t,n,r){let i=e.getFullYear();const s=t.Calendar.convert;return s&&(i=s.fromGregorian(e)[0]),!r&&t.eras&&(i-=t.eras[n+3]),i;}function r(e,t){t||(t="F");const n=t.length;if(1===n)switch(t){case"d":return e.ShortDatePattern;case"D":return e.LongDatePattern;case"g":return e.ShortDatePattern+" "+e.ShortTimePattern;case"G":return e.ShortDatePattern+" "+e.LongTimePattern;case"t":return e.ShortTimePattern;case"T":return e.LongTimePattern;case"f":return e.LongDatePattern+" "+e.ShortTimePattern;case"F":return e.FullDateTimePattern;case"M":return e.MonthDayPattern;case"m":return(function(e){return e.ShortDatePattern.replace(/\by{4}\W*|\by{2}\W*|\W*y{4}\b|\W*y{2}\b/i,"");}(e));case"s":return e.SortableDateTimePattern;case"Y":case"y":return e.YearMonthPattern;case"R":case"r":return e.RFC1123Pattern;case"u":return e.UniversalSortableDateTimePattern;default:throw new Error("Input string was not in a correct format.");}else 2===n&&"%"===t.charAt(0)&&(t=t.charAt(1));return t;}function i(e,t){let n=0,r=!1;for(let i=0,s=e.length;i<s;i++){const s=e.charAt(i);switch(s){case"'":r?t.push("'"):n++,r=!1;break;case"\\":r&&t.push("\\"),r=!r;break;default:t.push(s),r=!1;}}return n;}function s(e,r){const i=new Date(),s=t(i,e.eras);if(r<100){const t=n(i,e,s);(r+=t-t%100)>e.Calendar.TwoDigitYearMax&&(r-=100);}return r;}function o(e,t){if(void 0===t)return-1;for(let n=0,r=e.length;n<r;n++)if(void 0!==__WRAPPED_get(e,n)&&__WRAPPED_get(e,n)===t)return n;return-1;}function a(e,t,n){const r=p(e);let i=o(t,r);return-1===i&&(i=o(n,r)),i;}function c(e,t){return e._upperMonths||(e._upperMonths=h(e.dateTimeFormat.MonthNames),e._upperMonthsGenitive=h(e.dateTimeFormat.MonthGenitiveNames)),a(t,e._upperMonths,e._upperMonthsGenitive);}function u(e,t){return e._upperAbbrMonths||(e._upperAbbrMonths=h(e.dateTimeFormat.AbbreviatedMonthNames),e._upperAbbrMonthsGenitive=h(e.dateTimeFormat.AbbreviatedMonthGenitiveNames)),a(t,e._upperAbbrMonths,e._upperAbbrMonthsGenitive);}function l(e,t){return e._upperDays||(e._upperDays=h(e.dateTimeFormat.DayNames)),o(e._upperDays,p(t));}function d(e,t){return e._upperAbbrDays||(e._upperAbbrDays=h(e.dateTimeFormat.AbbreviatedDayNames)),o(e._upperAbbrDays,p(t));}function h(e){const t=[];for(let n=0,r=e.length;n<r;n++)__WRAPPED_set(t,n,'=',p(__WRAPPED_get(e,n)));return t;}function p(e){return e.split(" ").join(" ").toUpperCase();}e.dateToString=function(e,i,s){const o=i?(0,A.getCurrentCulture)().dateTimeFormat:(0,A.getInvariantCulture)().dateTimeFormat,a=o.Calendar.convert;if(!s||!s.length||"i"===s){if(!i)return e.toString();if(!a){const r=new Date(e.getTime()),i=t(e,o.eras);return r.setFullYear(n(e,o,i)),r.toLocaleString();}s=o.FullDateTimePattern;}const c=o.eras,u="s"===s;s=r(o,s);const l=[];let d,h,p;function g(e){return e<10?"0"+e:e.toString();}function m(e){return e<10?"00"+e:e<100?"0"+e:e.toString();}function v(e,t){let n=0,r=!1;for(let i=0,s=e.length;i<s;i++){const s=e.charAt(i);switch(s){case"'":r?t.push("'"):n++,r=!1;break;case"\\":r&&t.push("\\"),r=!r;break;default:t.push(s),r=!1;}}return n;}const f=/([^d]|^)(d|dd)([^d]|$)/g;function S(){return h||p||(h=!!s&&f.test(s),p=!0),h;}let b=0,y=[];const C=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;function T(e,t){if(0!==y.length)return __WRAPPED_get(y,t);switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();}}for(!u&&a&&(y=a.fromGregorian(e));;){const r=C.lastIndex,i=C.exec(s);if(b+=v(s.slice(r,i?i.index:s.length),l),!i)break;if(b%2!=1)switch(i[0]){case"dddd":l.push(__WRAPPED_get(o.DayNames,e.getDay()));break;case"ddd":l.push(__WRAPPED_get(o.AbbreviatedDayNames,e.getDay()));break;case"dd":h=!0,l.push(g(T(e,2)));break;case"d":h=!0,l.push(T(e,2));break;case"MMMM":l.push(o.MonthGenitiveNames&&0!==o.MonthGenitiveNames.length&&S()?__WRAPPED_get(o.MonthGenitiveNames,T(e,1)):__WRAPPED_get(o.MonthNames,T(e,1)));break;case"MMM":l.push(o.AbbreviatedMonthGenitiveNames&&0!==o.AbbreviatedMonthGenitiveNames.length&&S()?__WRAPPED_get(o.AbbreviatedMonthGenitiveNames,T(e,1)):__WRAPPED_get(o.AbbreviatedMonthNames,T(e,1)));break;case"MM":l.push(g(T(e,1)+1));break;case"M":l.push(T(e,1)+1);break;case"yyyy":l.push((P=0!==y.length?y[0]:n(e,o,t(e,c),u))<10?"000"+P:P<100?"00"+P:P<1e3?"0"+P:P.toString());break;case"yy":l.push(g((0!==y.length?y[0]:n(e,o,t(e,c),u))%100));break;case"y":l.push(((0!==y.length?y[0]:n(e,o,t(e,c),u))%100).toString());break;case"hh":d=e.getHours()%12,0===d&&(d=12),l.push(g(d));break;case"h":d=e.getHours()%12,0===d&&(d=12),l.push(d.toString());break;case"HH":l.push(g(e.getHours()));break;case"H":l.push(e.getHours().toString());break;case"mm":l.push(g(e.getMinutes()));break;case"m":l.push(e.getMinutes().toString());break;case"ss":l.push(g(e.getSeconds()));break;case"s":l.push(e.getSeconds().toString());break;case"tt":l.push(e.getHours()<12?o.AMDesignator:o.PMDesignator);break;case"t":l.push((e.getHours()<12?o.AMDesignator:o.PMDesignator).charAt(0));break;case"f":l.push(m(e.getMilliseconds()).charAt(0));break;case"ff":l.push(m(e.getMilliseconds()).substr(0,2));break;case"fff":l.push(m(e.getMilliseconds()));break;case"z":d=e.getTimezoneOffset()/60,l.push((d<=0?"+":"-")+Math.floor(Math.abs(d)));break;case"zz":d=e.getTimezoneOffset()/60,l.push((d<=0?"+":"-")+g(Math.floor(Math.abs(d))));break;case"zzz":d=e.getTimezoneOffset()/60,l.push((d<=0?"+":"-")+g(Math.floor(Math.abs(d)))+":"+g(Math.abs(e.getTimezoneOffset()%60)));break;case"g":case"gg":o.eras&&l.push(o.eras[t(e,c)+1]);break;case"/":l.push(o.DateSeparator);break;default:new Error("Invalid date format pattern");}else l.push(i[0]);}var P;return l.join("");},e.parseShortTimeString=function(e,t){var n;return null!==(n=(function(e,t,n){e=e.trim();const o=n.dateTimeFormat,a=(function(e,t){if(e._parseRegExp){if(__WRAPPED_get(e._parseRegExp,t))return __WRAPPED_get(e._parseRegExp,t);}else e._parseRegExp={};let n=r(e,t);n=n.replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1");const s=[],o=[];let a=0,c=0;const u=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;let l;for(;null!==(l=u.exec(n));){const t=n.slice(a,l.index);if(a=u.lastIndex,c+=i(t,s),c%2!=1){switch(l[0]){case"MMMM":case"MMM":s.push("([\\d\\D]+)");break;case"dddd":case"ddd":case"gg":case"g":s.push("(\\D+)");break;case"tt":case"t":s.push("(\\D*)");break;case"yyyy":s.push("(\\d{4})");break;case"fff":s.push("(\\d{3})");break;case"ff":s.push("(\\d{2})");break;case"f":s.push("(\\d)");break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":s.push("(\\d\\d?)");break;case"zzz":s.push("([+-]?\\d\\d?:\\d{2})");break;case"zz":case"z":s.push("([+-]?\\d\\d?)");break;case"/":s.push("(\\"+e.DateSeparator+")");break;default:throw new Error("Invalid date format pattern.");}o.push(l[0]);}else s.push(l[0]);}i(n.slice(a),s),s.push("$");const d={regExp:s.join("").replace(/\s+/g,"\\s+"),groups:o};return __WRAPPED_set(e._parseRegExp,t,'=',d),d;}(o,t)),h=new RegExp(a.regExp).exec(e);if(null===h)return null;const p=a.groups;let g,m=null,v=null,f=null,S=null,b=null,y=0,C=0,T=0,P=0,E=null,w=!1;for(let e=0,t=p.length;e<t;e++){const t=h[e+1];if(t)switch(__WRAPPED_get(p,e)){case"dd":case"d":if(S=parseInt(t,10),S<1||S>31)return null;break;case"MMMM":if(f=c(n,t),f<0||f>11)return null;break;case"MMM":if(f=u(n,t),f<0||f>11)return null;break;case"M":case"MM":if(f=parseInt(t,10)-1,f<0||f>11)return null;break;case"y":case"yy":if(v=s(o,parseInt(t,10)),v<0||v>9999)return null;break;case"yyyy":if(v=parseInt(t,10),v<0||v>9999)return null;break;case"h":case"hh":if(y=parseInt(t,10),12===y&&(y=0),y<0||y>11)return null;break;case"H":case"HH":if(y=parseInt(t,10),y<0||y>23)return null;break;case"m":case"mm":if(C=parseInt(t,10),C<0||C>59)return null;break;case"s":case"ss":if(T=parseInt(t,10),T<0||T>59)return null;break;case"tt":case"t":const e=t.toUpperCase();if(w=e===o.PMDesignator.toUpperCase(),!w&&e!==o.AMDesignator.toUpperCase())return null;break;case"f":if(P=100*parseInt(t,10),P<0||P>999)return null;break;case"ff":if(P=10*parseInt(t,10),P<0||P>999)return null;break;case"fff":if(P=parseInt(t,10),P<0||P>999)return null;break;case"dddd":if(b=l(n,t),b<0||b>6)return null;break;case"ddd":if(b=d(n,t),b<0||b>6)return null;break;case"zzz":const r=t.split(/:/);if(2!==r.length)return null;if(g=parseInt(r[0],10),g<-12||g>13)return null;const i=parseInt(r[1],10);if(i<0||i>59)return null;E=60*g+(t.startsWith("-")?-i:i);break;case"z":case"zz":if(g=parseInt(t,10),g<-12||g>13)return null;E=60*g;break;case"g":case"gg":let a=t;if(!a||!o.eras)return null;a=a.toLowerCase().trim();for(let e=0,t=o.eras.length;e<t;e+=4)if(a===o.eras[e+1].toLowerCase()){m=e;break;}if(null===m)return null;}}let I,_=new Date();const k=o.Calendar.convert;I=k?k.fromGregorian(_)[0]:_.getFullYear();null===v?v=I:o.eras&&(v+=o.eras[(m||0)+3]);null===f&&(f=0);null===S&&(S=1);if(k){if(_=k.toGregorian(v,f,S),null===_)return null;}else{if(_.setFullYear(v,f,S),_.getDate()!==S)return null;if(null!==b&&_.getDay()!==b)return null;}w&&y<12&&(y+=12);if(_.setHours(y,C,T,P),null!==E){const e=_.getMinutes()-(E+_.getTimezoneOffset());_.setHours(_.getHours()+parseInt(e/60,10),e%60);}return _;}(e,t.dateTimeFormat.ShortTimePattern,t)))&&void 0!==n?n:void 0;};}(r||(r={})));}()),(function(e){t.Date={},t.Date.millisecond=1,t.Date.second=1e3*t.Date.millisecond,t.Date.minute=60*t.Date.second,t.Date.hour=60*t.Date.minute,t.Date.day=24*t.Date.hour,t.Date.week=7*t.Date.day;const n={};function r(e,t,n){return(0,A.checkIfCustomerCurrentCultureExists)()&&(0,A.checkIfFetchingCultureFromContributionEnabled)()?(0,V.dateToString)(e,!0,t):n?n.format(e):e.toLocaleDateString();}t.Date.localeDateFormat=r,t.Date.dateformat=function(e,t,n){return(0,A.checkIfCustomerCurrentCultureExists)()&&(0,A.checkIfFetchingCultureFromContributionEnabled)()?(0,V.dateToString)(e,!1,t):n?n.format(e):e.toLocaleDateString();},t.Date.ago=function(e,i,s,o){let a=__WRAPPED_get(n,o||"");a||__WRAPPED_set(n,o||"",'=',a={}),s||(s=new Date()),i||(i=0);const c=s.getTime()-e.getTime();let u="";if(c<2*t.Date.minute)u=p.JustNow;else if(0===i)if(c<59*t.Date.minute)u=(0,V.format)(p.AgoMinutes,Math.round(c/t.Date.minute));else if(s.getDate()===e.getDate()&&s.getMonth()===e.getMonth()&&s.getFullYear()===e.getFullYear())u=(0,V.format)(p.AgoHours,Math.round(c/t.Date.hour));else if(c<t.Date.week&&s.getDay()!==e.getDay()){const t=new Date();t.setDate(s.getDate()-1),u=e.getDate()===t.getDate()?p.Yesterday:r(e,"ddd",new Intl.DateTimeFormat(o,{weekday:"long"}));}else s.getFullYear()===e.getFullYear()?(a.ctShortFormat=a.ctShortFormat||new Intl.DateTimeFormat(o,{month:"short",day:"numeric"}),u=r(e,"m",a.ctShortFormat)):(a.ctLongFormat=a.ctLongFormat||new Intl.DateTimeFormat(o,{month:"short",year:"numeric",day:"numeric"}),u=r(e,"d",a.ctLongFormat));else if(1===i){let n="";if(s.getDate()===e.getDate()&&s.getMonth()===e.getMonth()&&s.getFullYear()===e.getFullYear())n=p.Today;else if(c<t.Date.week&&s.getDay()!==e.getDay()){const t=new Date();t.setDate(s.getDate()-1),e.getDate()===t.getDate()?n=p.Yesterday:(a.exWeekFormat=a.exWeekFormat||new Intl.DateTimeFormat(o,{weekday:"short"}),n=r(e,"ddd",a.exWeekFormat));}else s.getFullYear()===e.getFullYear()?(a.exMonthFormat=a.exMonthFormat||new Intl.DateTimeFormat(o,{month:"short",day:"numeric"}),n=r(e,"m",a.exWeekFormat)):(a.exYearFormat=a.exYearFormat||new Intl.DateTimeFormat(o,{month:"short",year:"numeric",day:"numeric"}),u=r(e,"d",a.ctLongFormat));a.timeFormat=a.timeFormat||new Intl.DateTimeFormat(o,{hour:"numeric",minute:"numeric"});const i=r(e,"t",a.timeFormat);u=(0,V.format)(p.DayAtTimeFormat,n,i);}return u||(u=e.toString()),u;};}()),(function(e){t.Fallback={};class n extends m.VssService{constructor(){super(...arguments),this.secureFlag="",this.usedCdnFallback=!1,this.contentLoadError=e=>{if(!this.usedCdnFallback){this.usedCdnFallback=!0;const t=28800;document.cookie=`TFS-CDN=disabled;max-age=${t};path=/${this.secureFlag}`,document.cookie=`TFS-CDNTRACE=report-true;path=/${this.secureFlag}`,(0,N.onClickFPS)(this.pageContext,__WRAPPED_get(window,'location').href,!1,void 0,{telemetrySource:"cdn.fallback.service",telemetryProperties:{failingContent:e},customUnloadMessage:p.CdnFallbackErrorMessage});}};}_serviceStart(e){super._serviceStart(e);const t=this.pageContext.getService("IVssPageService").getData();if(t&&t.isCdnEnabled){t.isSslOnly&&(this.secureFlag=";secure");this.pageContext.getService("IVssContentService").subscribe(this.contentLoadError,"contentLoadError");}}}m.Services.add("IVssFallbacksService",{serviceFactory:n,options:6});}()),(function(e){t.Identity={};class n extends m.VssService{constructor(){super(...arguments),this.cachedIdentityDetails={};}getIdentityDetails(e){let t=__WRAPPED_get(this.cachedIdentityDetails,e);if(!t){const n=this.getSharedIdentityDetails(e);n&&(t={id:e,displayName:n.displayName,imageId:n.identityImageId,imageUrl:this.getIdentityImageUrl(e)},__WRAPPED_set(this.cachedIdentityDetails,e,'=',t));}if(!t)throw new Error(`Missing shared identity details for identity with id ${e}.`);return t;}getIdentityImageUrl(e,t=0){return"string"==typeof e?this._getIdentityImageUrlFromIdentityId(e,t):this._getIdentityImageUrlFromIdentityRef(e,t);}getSharedIdentityDetails(e){const t=this.pageContext.getService("IVssContributionService").getSharedData("_identityDetails");return t?__WRAPPED_get(t,e):void 0;}_getIdentityImageUrlFromIdentityId(e,t){let n;const r=this.getSharedIdentityDetails(e);r&&(n=r.identityImageId||"0");let i=`_api/_common/identityImage?id=${e}&size=${t}`;n&&(i+=`&t=${n}`);const s=this.pageContext.getService("IVssPageService").getData();return s&&s.hostPath&&(i=(0,S.combineUrlPaths)(encodeURI(s.hostPath),i)),i;}_getIdentityImageUrlFromIdentityRef(e,t){const n=e._links&&e._links.avatar&&e._links.avatar.href;if(n&&-1!==e._links.avatar.href.indexOf("avatars.githubusercontent.com")){const n=new S.Uri(e._links.avatar.href);let r;switch(t){case 1:r=44;break;case 2:r=220;break;default:r=34;}return n.addQueryParam("size",""+r,!0),n.absoluteUri;}if(n){const n=new S.Uri(e._links.avatar.href);return n.addQueryParam("size",""+t,!0),n.absoluteUri;}return e.descriptor?this._getIdentityAvatarUrl(e.descriptor):e.imageUrl||this._getIdentityImageUrlFromIdentityId(e.id,t);}_getIdentityAvatarUrl(e){let t=`_apis/GraphProfile/MemberAvatars/${e}`;const n=this.pageContext.getService("IVssPageService").getData();return n&&n.hostPath&&(t=(0,S.combineUrlPaths)(encodeURI(n.hostPath),t)),t;}}m.Services.add("IVssIdentityService",{serviceFactory:n}),t.Identity.getIdentityImageUrl=function(e,t,n){return e.getService("IVssIdentityService").getIdentityImageUrl(t,n);};}()),(function(e){t.KeyboardShortcuts={};const r="KeyboardShortcutsDisabled";class i extends m.VssService{constructor(){super(...arguments),this._originalStopCallback=window.Mousetrap.prototype.stopCallback,this._shortcutsEnabled=new n.ObservableValue(!0);}_serviceStart(e){super._serviceStart(e);const t=this;window.Mousetrap.prototype.stopCallback=function(e,n,r,i){return!__WRAPPED_get(t._globalCombos,r)&&!__WRAPPED_get(t._globalCombos,i)&&("true"===n.getAttribute("data-onlyglobalshortcuts")||t._originalStopCallback.call(this,e,n,r));},this.initializeService();}_serviceRestart(e){super._serviceRestart(e),this.initializeService();}getShortcutGroups(){return Object.keys(this._shortcutsGroups).map(e=>(__WRAPPED_get(this._shortcutsGroups,e)));}getShortcutsEnabled(){return this._shortcutsEnabled;}getGlobalCombos(){return Object.keys(this._globalCombos);}findNextReassignableGroupByName(e){let t,n=Number.MIN_SAFE_INTEGER;for(const r of this._reassignableShortcutsGroups)r.name===e&&r.sequenceNumber>n&&(n=r.sequenceNumber,t=r);return t;}registerReassignableGroupShortcut(e,t){let n=this._reassignableShortcutsGroups.find(t=>(t.name===e.name&&t.sequenceNumber===e.sequenceNumber));n||(n={name:e.name,sequenceNumber:e.sequenceNumber,shortcuts:[]},this._reassignableShortcutsGroups.push(n));const r=this.makeMoustrapShortcut(e.name,t);n.shortcuts.push(r);}makeMoustrapShortcut(e,t){const n=t=>{(0,E.publishEvent)(this.pageContext,"KeyboardShortcuts","ShortcutInvoked",{group:e,shortcut:t});};let r;const i=(e,r)=>(!!this._shortcutsEnabled.value&&(n(r),t.isPageNavigationShortcut&&this.reset(),t.action(e,r),t.allowPropagation||!1));let s;if("string"==typeof t.element)try{s=document.querySelector(t.element);}catch(e){s=null;}else s=t.element;s?(r=window.Mousetrap(s),r.bind(t.combos,i)):window.Mousetrap.bind(t.combos,i);const o=t.globalCombos||[];for(const e of t.combos)o.indexOf(e)>=0&&__WRAPPED_set(this._globalCombos,e,'=',!0);const a=[];for(const e of t.combos)__WRAPPED_get(this._registeredCombos,e)||(a.push(e),__WRAPPED_set(this._registeredCombos,e,'=',!0));return Object.assign(Object.assign({},t),{combos:t.combos,combosToDisplay:t.hideFromHelpDialog?[]:a,mousetrapInstance:r});}registerShortcut(e,t){__WRAPPED_get(this._shortcutsGroups,e)||__WRAPPED_set(this._shortcutsGroups,e,'=',{name:e,shortcuts:[]});const n=this.makeMoustrapShortcut(e,t);__WRAPPED_get(this._shortcutsGroups,e).shortcuts.push(n);}unRegisterShortcut(e,t){if(__WRAPPED_get(this._registeredCombos,t)&&delete this._registeredCombos[t],!__WRAPPED_get(this._shortcutsGroups,e))return;const n=__WRAPPED_get(this._shortcutsGroups,e).shortcuts;let r=0,i=!1;for(;r<n.length;r++){const e=__WRAPPED_get(n,r);if(e.combos.indexOf(t)>=0){e.mousetrapInstance?e.mousetrapInstance.unbind(t):window.Mousetrap.unbind(t),1===e.combos.length&&(i=!0),delete this._globalCombos[t];break;}}i&&(n.splice(r,1),0===n.length&&this.removeShortcutGroup(e));}removeShortcutGroup(e){if(!__WRAPPED_get(this._shortcutsGroups,e))return;const t=__WRAPPED_get(this._shortcutsGroups,e);delete this._shortcutsGroups[e],this.commonRemoveLogic(t);}removeReassignableShortcutGroup(e,t){const n=this._reassignableShortcutsGroups.findIndex(n=>(n.name===e&&n.sequenceNumber===t));if(n<0)return;const r=__WRAPPED_get(this._reassignableShortcutsGroups,n);this._reassignableShortcutsGroups.splice(n,1),this.commonRemoveLogic(r);const i=this.findNextReassignableGroupByName(e);if(i){i.shortcuts.forEach(e=>{this.registerReassignableGroupShortcut({name:i.name,sequenceNumber:i.sequenceNumber},e);});}}commonRemoveLogic(e){if(!e)return;e.shortcuts.forEach(e=>{e.mousetrapInstance?e.mousetrapInstance.unbind(e.combos):window.Mousetrap.unbind(e.combos);for(const t of e.combos)delete this._registeredCombos[t],delete this._globalCombos[t];});}setShortcutsEnabled(e){(0,P.trySetLocalStorageValue)(r,e?void 0:"true"),this._shortcutsEnabled.value=e;}initializeService(){this.reset();const e=this.pageContext.getService("IVssContributionService"),t=e.getContributionsByType("ms.vss-web.shortcut");this._shortcutsEnabled.value="true"!==(0,P.tryGetLocalStorageValue)(r);for(const n in t){const r=__WRAPPED_get(t,n);this.registerShortcut(r.group,{combos:r.combos,description:r.description,isPageNavigationShortcut:r.isPageNavigationShortcut,action:()=>{r.command?e.executeCommandEx(n,r.command):r.commandId&&e.executeCommand(r.commandId);}});}}reset(){window.Mousetrap.reset(),this._globalCombos={},this._registeredCombos={},this._shortcutsGroups={},this._reassignableShortcutsGroups=[];}}m.Services.add("IVssKeyboardShortcutService",{serviceFactory:i,options:6});}()),(function(e){t.MsalAuthentication={};let n,r=!0,i=!1;if(__WRAPPED_get(window,'location').hash){const e=__WRAPPED_get(window,'location').hash,t=new URLSearchParams(__WRAPPED_get(window,'location').hash.substring(1));if(t.has("code")){n=t.get("code");let r=e.replace("code="+n+"&","");r=r.replace("&code="+n,""),r=r.replace("code="+n,""),__WRAPPED_get(window,'location').hash=r;}}class s extends m.VssService{getPublicClientApplication(e){return new h.PublicClientApplication(e);}}m.Services.add("IPublicClientApplicationFactory",{serviceFactory:s});class o extends m.VssService{constructor(){super(...arguments),this._msalCallbackId=null,this._handledAcquireTokenSilentFailure=!1,this._eventCallback=e=>{var t;e.eventType!=h.EventType.ACQUIRE_TOKEN_BY_CODE_SUCCESS&&e.eventType!=h.EventType.ACQUIRE_TOKEN_BY_CODE_FAILURE&&e.eventType!=h.EventType.ACQUIRE_TOKEN_NETWORK_START&&e.eventType!=h.EventType.ACQUIRE_TOKEN_FAILURE&&e.eventType!=h.EventType.POPUP_OPENED&&e.eventType!=h.EventType.LOGIN_START&&e.eventType!=h.EventType.LOGIN_FAILURE&&e.eventType!=h.EventType.LOGIN_SUCCESS&&(e.eventType!=h.EventType.ACQUIRE_TOKEN_SUCCESS||e.interactionType!=h.InteractionType.Popup&&e.interactionType!=h.InteractionType.Redirect)||(e.eventType==h.EventType.ACQUIRE_TOKEN_FAILURE&&e.interactionType==h.InteractionType.Silent?this._handledAcquireTokenSilentFailure=!0:e.eventType==h.EventType.ACQUIRE_TOKEN_SUCCESS&&(this._handledAcquireTokenSilentFailure=!1),this._handledAcquireTokenSilentFailure||this._publishEvent({eventType:e.eventType,interactionType:e.interactionType,error:null===(t=e.error)||void 0===t?void 0:t.message}));};}_serviceStart(e){if(super._serviceStart(e),!i){i=!0;const e=this.getRedirectProvider();e?e.getAuthorizationHeader().finally(()=>{document.dispatchEvent(new CustomEvent("authenticationInitialized",{}));}):setTimeout(()=>(document.dispatchEvent(new CustomEvent("authenticationInitialized",{}))),0);}}async logout(){if(this._pca)try{await this._pca.logoutRedirect({onRedirectNavigate:e=>(!1)});}catch(e){console.log(e);}}getDefaultProvider(){return this.getPopupProvider();}getSilentProvider(){if(!this._silentTokenProvider){const e=this._getProvider();if(!e)return;this._silentTokenProvider=new a(e);}return this._silentTokenProvider;}getPopupProvider(){if(!this._popupTokenProvider){const e=this._getProvider();if(!e)return;this._popupTokenProvider=new u(e);}return this._popupTokenProvider;}getRedirectProvider(e){const t=this._getProvider();if(t)return new c(t,e);}_getProvider(){if("true"!=(0,v.getCookie)("tfs-aad-token-disabled")){if(!this._provider){const e=this.pageContext.getService("IVssContributionService").getData("ms.vss-web.msal-config-data"),t=null==e?void 0:e.configuration;if(!t)return;t.cache||(t.cache={cacheLocation:"localStorage",storeAuthStateInCookie:!1}),t.system||(t.system={}),t.system.loggerOptions||(t.system.loggerOptions={loggerCallback:(e,t,n)=>{if(!n)switch(this._recordMsalLogs(e,t),e){case h.LogLevel.Error:return void console.error(t);case h.LogLevel.Info:return void console.info(t);case h.LogLevel.Verbose:return void console.debug(t);case h.LogLevel.Warning:return void console.warn(t);case h.LogLevel.Trace:return void console.trace(t);}}});const n=this.pageContext.getService("IPublicClientApplicationFactory");this._pca=n.getPublicClientApplication(t),this._provider=new l(this.pageContext,this._pca,e.scopes,e.accessMapping),this._msalCallbackId=this._pca.addEventCallback(this._eventCallback);}return this._provider;}}_serviceEnd(e){this._msalCallbackId&&this._pca.removeEventCallback(this._msalCallbackId);}_recordMsalLogs(e,t){e===h.LogLevel.Info&&(t.endsWith("msal:acquireTokenStart")||t.endsWith("msal:acquireTokenSuccess"))||this._handledAcquireTokenSilentFailure||this._publishEvent({eventType:"logging",level:e,message:t});}_publishEvent(e){(0,E.publishEvent)(this.pageContext,"WebPlatform","MsalTokenProviderService",e);}}t.MsalAuthentication.MsalTokenProviderService=o,m.Services.add("IMsalTokenProviderService",{serviceFactory:o,options:6});class a{constructor(e){this._reportedSilentError=!1,this._provider=e;}get providerName(){return this._provider.providerName;}async getAuthorizationHeader(e){const t=await this._provider.acquireTokenSilent();return t.token?(this._reportedSilentError=!1,(0,y.getBearerTokenAuthHeaderValue)(t.token)):(this._reportedSilentError||(this._reportedSilentError=!0,this._provider.publishEvent({eventType:"SilentMsalTokenProvider.error",error:t.error,interactionRequired:t.interactionRequired})),"");}}class c{constructor(e,t){this._provider=e,this._targetLocation=t;}get providerName(){return this._provider.providerName;}async getAuthorizationHeader(e){const t=await this._provider.acquireTokenSilent();return t.token?(0,y.getBearerTokenAuthHeaderValue)(t.token):t.interactionRequired?await this._provider.acquireTokenRedirect(this._targetLocation):"";}}class u{constructor(e){this._provider=e;}get providerName(){return this._provider.providerName;}async getAuthorizationHeader(e){let t="";const n=await this._provider.acquireTokenSilent();return n.token?t=n.token:n.interactionRequired&&(t=await this._provider.acquireTokenPopup()),t?(0,y.getBearerTokenAuthHeaderValue)(t):"";}}class l{constructor(e,t,n,r){this._accessMapping=r,this._pageContext=e,this._pca=t,this._scopes=n;}get providerName(){return"MsalTokenProvider";}async acquireTokenSilent(){const e=await this._acquireToken(async()=>{const e=n;if(e)try{const t=await this._acquireTokenByCode(e);return{token:this._handleAuthenticationResult(t)};}finally{n=null;}const t=this._pca.getActiveAccount()||this._pca.getAllAccounts()[0];try{const e=await this._acquireTokenSilent(t);return{token:this._handleAuthenticationResult(e)};}catch(e){return{error:e};}});return{error:e.error,interactionRequired:e.error&&e.error instanceof h.InteractionRequiredAuthError||e.error instanceof h.BrowserAuthError,token:e.token};}async acquireTokenPopup(){var e;return null!==(e=(await this._acquireToken(async()=>{try{return{token:(await this._acquireTokenPopup()).accessToken};}catch(e){return{error:e};}})).token)&&void 0!==e?e:"";}async acquireTokenRedirect(e){var t;return null!==(t=(await this._acquireToken(async()=>{try{await this._acquireTokenRedirect(e);}catch(e){return{error:e};}return{token:""};})).token)&&void 0!==t?t:"";}publishEvent(e){(0,E.publishEvent)(this._pageContext,"WebPlatform","MsalTokenProviderService",e);}_acquireToken(e){return this._activePromise||(r?(r=!1,this._activePromise=this._handleRedirectPromise().then(t=>(t?Promise.resolve({token:this._handleAuthenticationResult(t)}):e()))):this._activePromise=e()),this._activePromise.finally(()=>{delete this._activePromise;}),this._activePromise;}async _acquireTokenByCode(e){this.publishEvent({eventType:"provider.acquireTokenByCode:start"});const t=this._pageContext.getService("IVssPageService").getData();try{return await this._pca.acquireTokenByCode({code:e,scopes:this._scopes,correlationId:null==t?void 0:t.sessionId});}finally{this.publishEvent({eventType:"provider.acquireTokenByCode:end"});}}async _acquireTokenSilent(e){const t=new Date(),n=await this._pca.acquireTokenSilent({account:e,scopes:this._scopes});return n.fromCache||this.publishEvent({eventType:"provider.acquireTokenSilent:notFromCache",elapsedMilliseconds:new Date().getTime()-t.getTime()}),n;}async _acquireTokenPopup(){this.publishEvent({eventType:"provider.acquireTokenPopup:start"});try{const e=this._pageContext.getService("IVssPageService").getData();return await this._pca.acquireTokenPopup({scopes:this._scopes,state:JSON.stringify({host:null==e?void 0:e.hostName,service:"tfs",isLegacyDomain:"VstsAccessMapping"===this._accessMapping,type:"popup"})});}finally{this.publishEvent({eventType:"provider.acquireTokenPopup:end"});}}_acquireTokenRedirect(e){const t=this._pageContext.getService("IVssPageService").getData();return this._pca.acquireTokenRedirect({scopes:this._scopes,state:JSON.stringify({host:null==t?void 0:t.hostName,service:"tfs",isLegacyDomain:"VstsAccessMapping"===this._accessMapping,type:"redirect"}),redirectStartPage:e}).catch(e=>{console.log("error "+e);});}_handleAuthenticationResult(e){return this._pca.setActiveAccount(e.account),e.accessToken;}async _handleRedirectPromise(){try{return await this._pca.handleRedirectPromise();}catch(e){return console.log(e),null;}}}}()),(function(e){U=t.Location={};class n extends m.VssService{constructor(){super(...arguments),this._parsedRoutes={};}getAssetLocation(e){const t=this.pageContext.getService("IVssContributionService").getSharedData("_assets");if(t)return __WRAPPED_get(t,e);throw new Error(`Could not find asset for service ${e}. Ensure that the asset is added through a shared data value.`);}getServiceInstanceTypeForResourceArea(e){const t=this.pageContext.getService("IVssContributionService").getSharedData("_resourceAreas");if(t)return __WRAPPED_get(t,e);}getServiceLocation(e,t){const n=this.getServiceLocationLocal(e,t);if(!n)throw new Error(`Could not find location for service ${e} and hostType ${t}. Ensure that the requested service location is included in shared data.`);return n;}getServiceLocationAsync(e,t){const n=this.getServiceLocationLocal(e,t);if(n)return Promise.resolve(n);const r=this.pageContext.getService("IVssPageService").getData(),i=this.pageContext.getService("IVssContributionService"),s={_sharedData:{locations:[{ServiceInstanceId:e&&r.isHosted?e:r.serviceInstanceType,HostType:t||r.hostType}]}};return i.getDataAsync("ms.vss-web.shared-data",s).then(()=>(this.getServiceLocation(e,t)));}routeAbsoluteUrl(e,t,n){const r=this.routeUrl(e,t,n);return(__WRAPPED_get(window,'location').origin||__WRAPPED_get(window,'location').protocol+"//"+__WRAPPED_get(window,'location').hostname+(__WRAPPED_get(window,'location').port?":"+__WRAPPED_get(window,'location').port:""))+r;}routeUrl(e,t,n){let r=__WRAPPED_get(this._parsedRoutes,e);if(!r){const t=this.pageContext.getService("IVssContributionService").getSharedData("_routes");if(t){const n=__WRAPPED_get(t,e);n&&(r=[],n.forEach(e=>{r.push((0,S.parseRouteTemplate)(e));}),__WRAPPED_set(this._parsedRoutes,e,'=',r));}}if(r){const e=(0,S.routeUrl)(r,t||{});if(!n){const e=this.pageContext.getService("IVssPageService").getData();e&&e.hostPath&&(n=e.hostPath);}if(n){const t=encodeURI(n);return(0,S.combineUrlPaths)(t,e);}}throw new Error(`Could not find route for route id ${e}. Ensure that the requested route is added to routes shared data.`);}getServiceLocationLocal(e,t){const n=this.pageContext.getService("IVssPageService").getData();t||(t=n.hostType),e&&n.isHosted||(e=n.serviceInstanceType);const r=this.pageContext.getService("IVssContributionService").getSharedData("_locations");if(r){const n=__WRAPPED_get(r,e);if(n){const e=__WRAPPED_get(n,t);if(e)return e;}}}}m.Services.add("IVssLocationService",{serviceFactory:n}),t.Location.getAssetLocation=function(e,t){return e.getService("IVssLocationService").getAssetLocation(t);},t.Location.getServiceLocation=function(e,t,n){return e.getService("IVssLocationService").getServiceLocation(t,n);},t.Location.routeUrl=function(e,t,n,r){return e.getService("IVssLocationService").routeUrl(t,n,r);};}()),(function(e){t.PlatformRestErrorHandler={};class n extends m.VssService{constructor(){super(...arguments),this._handlingError=!1,this._errorHandlingLastFailed=0,this._requestBlocker=Promise.resolve();}_serviceStart(e){super._serviceStart(e),this._queueingEnabled=(0,M.isFeatureFlagEnabled)(e,"VisualStudio.Service.WebPlatform.ContributedRestErrorHandlerQueueing",!1),this._errorHandlingEnabled=(0,M.isFeatureFlagEnabled)(e,"VisualStudio.Service.WebPlatform.ContributedRestErrorHandlers",!1);}requestsEnabled(){return this._queueingEnabled?this._requestBlocker:Promise.resolve();}async handleError(e,t,n,r){if(!this._errorHandlingEnabled||Date.now()<this._errorHandlingLastFailed+1e4)return 2;if(this._handlingError)return this._queueingEnabled?(await this.requestsEnabled(),1):2;let i;try{this._handlingError=!0,this._requestBlocker=new Promise(e=>(i=e));const s=this.pageContext.getService("IVssContributionService"),o=null==s?void 0:s.getContributionChildren("ms.vss-web.rest-error-handler-root");if(o)for(const i of o){const o=s.getServiceSync(i);if(o){let i;if(i=n instanceof XMLHttpRequest?await o.handleOldPlatError(e,t,n,r):await o.handleError(e,t,n,r),1===i)return 1;}}}catch(e){r.restErrorHandlerServiceError=e;}finally{this._handlingError=!1,i&&i();}return this._errorHandlingLastFailed=Date.now(),2;}}m.Services.add("IPlatformRestErrorHandlerService",{serviceFactory:n});}()),(function(e){O=t.UserClaims={};class n extends m.VssService{hasClaim(e){if(!this.claims){const e=this.pageContext.getService("IVssContributionService");this.claims=e.getData("ms.vss-web.user-claims-data")||this.getDefaultClaims();}return e=(e||"").toLowerCase(),__WRAPPED_get(this.claims,e);}getDefaultClaims(){const e={member:!0};return e;}}m.Services.add("IVssUserClaimsService",{serviceFactory:n}),t.UserClaims.userHasClaim=function(e,t){return e.getService("IVssUserClaimsService").hasClaim(t);};}()),(function(e){t.RestClientOptionsProvider={};class n extends m.VssService{populateRestClientOptions(e,t){const n=Object.assign({pageContext:this.pageContext,errorHandler:r},t),i=this.pageContext.getService("IVssPageService").getData();if(i&&(n.sessionId||(n.sessionId=i.sessionId),!n.rootPath)){const t=n.hostType;let r=n.serviceInstanceType;if(!r&&e){if(e.resourceAreaId){r=this.pageContext.getService("IVssLocationService").getServiceInstanceTypeForResourceArea(e.resourceAreaId);}r||(r=e.serviceInstanceType);}if(!n.authTokenProvider){const e=this.pageContext.getService("IMsalTokenProviderService").getDefaultProvider();e&&(n.authTokenProvider=e);}if(i.isHosted&&r&&r!==i.serviceInstanceType||t&&t!==i.hostType){if(i.isHosted&&(0,O.userHasClaim)(this.pageContext,"member")&&!n.authTokenProvider){const e=this.pageContext.getService("IAuthenticationService");n.authTokenProvider=e.getDefaultTokenProvider();}n.rootPath=(0,U.getServiceLocation)(this.pageContext,r,n.hostType);}else n.rootPath=i.hostPath||"/";}return n;}}function r(e,t,n,r,i){return e.getService("IPlatformRestErrorHandlerService").handleError(t,n,r,i);}m.Services.add("IRestClientOptionsProviderService",{serviceFactory:n});}()),(function(e){__WRAPPED_set(t,e,'=',{});class n extends b.RestClientBase{constructor(e){super(e);}async queryDataProviders(e,t,n){return this.beginRequest({apiVersion:"3.2-preview.1",method:"POST",routeTemplate:"_apis/Contribution/dataProviders/query/{scopeName}/{scopeValue}",routeValues:{scopeName:t,scopeValue:n},body:e});}}__WRAPPED_get(t,e).ContributionsClientName="IContributionsRestClient",__WRAPPED_get(t,e).getContributionsClient=function(n,r){return n.getRestClient(__WRAPPED_get(t,e).ContributionsClientName,r);},m.RestClients.add(__WRAPPED_get(t,e).ContributionsClientName,{factory:n});}("RestClientContributions")),(function(e){t.RestClientLocations={};class n extends b.RestClientBase{constructor(e){super(e);}async getResourceArea(e,t,n){const r={enterpriseName:t,organizationName:n};return this.beginRequest({apiVersion:"4.0-preview.1",routeTemplate:"_apis/ResourceAreas/{areaId}",routeValues:{areaId:e},queryParams:r});}async getResourceAreaByHost(e,t){const n={hostId:t};return this.beginRequest({apiVersion:"4.0-preview.1",routeTemplate:"_apis/ResourceAreas/{areaId}",routeValues:{areaId:e},queryParams:n});}}t.RestClientLocations.LocationsClientName="ILocationsRestClient",t.RestClientLocations.getLocationsClient=function(e,n){return e.getRestClient(t.RestClientLocations.LocationsClientName,n);},m.RestClients.add(t.RestClientLocations.LocationsClientName,{factory:n});}()),(function(e){t.RestClientSettings={};class n extends b.RestClientBase{constructor(e){super(e);}async getEntries(e,t){return this.beginRequest({apiVersion:"4.1-preview.1",routeTemplate:"_apis/Settings/Entries/{userScope}/{*key}",routeValues:{userScope:e,key:t}});}async removeEntries(e,t){return this.beginRequest({apiVersion:"4.1-preview.1",method:"DELETE",routeTemplate:"_apis/Settings/Entries/{userScope}/{*key}",routeValues:{userScope:e,key:t}});}async setEntries(e,t){return this.beginRequest({apiVersion:"4.1-preview.1",method:"PATCH",routeTemplate:"_apis/Settings/Entries/{userScope}/{*key}",routeValues:{userScope:t},body:e});}async getEntriesForScope(e,t,n,r){return this.beginRequest({apiVersion:"4.1-preview.1",routeTemplate:"_apis/Settings/{scopeName}/{scopeValue}/Entries/{userScope}/{*key}",routeValues:{userScope:e,scopeName:t,scopeValue:n,key:r}});}async removeEntriesForScope(e,t,n,r){return this.beginRequest({apiVersion:"4.1-preview.1",method:"DELETE",routeTemplate:"_apis/Settings/{scopeName}/{scopeValue}/Entries/{userScope}/{*key}",routeValues:{userScope:e,scopeName:t,scopeValue:n,key:r}});}async setEntriesForScope(e,t,n,r){return this.beginRequest({apiVersion:"4.1-preview.1",method:"PATCH",routeTemplate:"_apis/Settings/{scopeName}/{scopeValue}/Entries/{userScope}/{*key}",routeValues:{userScope:t,scopeName:n,scopeValue:r},body:e});}}t.RestClientSettings.SettingsClientName="ISettingsRestClient",t.RestClientSettings.getSettingsClient=function(e,n){return e.getRestClient(t.RestClientSettings.SettingsClientName,n);},m.RestClients.add(t.RestClientSettings.SettingsClientName,{factory:n});}()),(function(e){t.Search={};class n extends m.VssObservableService{execute(e){const t=this.pageContext.getService("IVssContributionService"),n=t.getContributionsByType("ms.vss-web.search-coordinator");let r,i;for(const e in n)(!i||__WRAPPED_get(n,e).priority>i.priority)&&(r=e,i=__WRAPPED_get(n,r));return r?t.getService(r).then(t=>{if(t)return t.execute(e).then(e=>((this._notify(e,"searchStarted"),e)));throw new Error("Failed to create the configured search coordinator");}):Promise.reject("No search coordinator is available to perform the search operation.");}getProviders(){return this.pageContext.getService("IVssContributionService").getContributionsByType("ms.vss-web.search-provider");}getSelectedProvider(){let e=this.selectedProviderId||this.defaultProviderId;if(!e){const t=this.getProviders(),n=Object.keys(t);if(n.length>0){const r=this.pageContext.getService("IVssNavigationService"),i=r.getDisplayedNavigation(),s=[];for(let e=i.length-1;e>=0;e--){const t=r.getNavigation(__WRAPPED_get(i,e));t&&t.displayedDocTypes&&s.splice(i.length,0,...t.displayedDocTypes);}e:for(const n of s)for(const r in t){const i=__WRAPPED_get(t,r);if(i.supportedDocTypes&&-1!==i.supportedDocTypes.indexOf(n)){e=r;break e;}}if(!e){e=n[0];for(const n in t){const r=__WRAPPED_get(t,n),i=__WRAPPED_get(t,e);void 0!==r.priority&&(void 0===i.priority||r.priority>i.priority)&&(e=n);}}this.defaultProviderId=e;}}return e;}setSelectedProvider(e){__WRAPPED_get(this.getProviders(),e)&&(this.selectedProviderId=e,this._notify(this.selectedProviderId,"providerSelected"));}}m.Services.add("IVssSearchService",{serviceFactory:n});}()),(function(e){t.Security={};class n extends m.VssService{hasPermission(e,t,n){const r=this.pageContext.getService("IVssContributionService").getSharedData("_permissions");if(!r)return this.handleMissingState("No shared permissions found");const i=__WRAPPED_get(r,e.toLowerCase());if(!i)return this.handleMissingState(`Security namespace with id '${e}' not found`);const s=__WRAPPED_get(i,t);return void 0===s?this.handleMissingState(`No permissions found for security namespace '${e}' and token '${t}'`):(n&s)>0;}checkPermission(e,t,n){if(!this.hasPermission(e,t,n))throw new Error(`Access denied: Permission ${n} is needed for the resource ${t}.`);}handleMissingState(e){return console.error(`${e}. Ensure that the effective permissions are included in shared data.`),!1;}}m.Services.add("IVssSecurityService",{serviceFactory:n});}()),(function(e){t.Settings={};const n=Promise.resolve({value:{},count:0}),r=Promise.resolve();class i extends m.VssService{getEntry(e,t,n,r){const i=this.getEntriesForKey(t,n,r);if(i){const t=__WRAPPED_get(i,e);if(void 0!==t)return t;const n=e.split("/");for(let e=n.length-2;e>=0;e--){const t=__WRAPPED_get(i,n.slice(0,e+1).join("/"));if(t){let r=t;for(let t=e+1;t<n.length&&r;t++)r=__WRAPPED_get(r,__WRAPPED_get(n,t));return r;}}}}getEntriesAsync(e,t,r,i){if(!this.canCallSettingsEndpoint)return n;let s;return s=r?this.httpClient.getEntriesForScope(this.userScopeToString(t),r,i,e):this.httpClient.getEntries(this.userScopeToString(t),e),s.then(n=>(this.updateLocalEntries(e,n,t,r,i)));}setEntries(e,t,n,i){if(!this.canCallSettingsEndpoint)return r;for(const r in e)this.updateLocalEntries(r,__WRAPPED_get(e,r),t,n,i);return n?this.httpClient.setEntriesForScope(e,this.userScopeToString(t),n,i):this.httpClient.setEntries(e,this.userScopeToString(t));}removeEntries(e,t,n,i){return this.canCallSettingsEndpoint?(this.updateLocalEntries(e,void 0,t,n,i),n?this.httpClient.removeEntriesForScope(this.userScopeToString(t),n,i,e):this.httpClient.removeEntries(this.userScopeToString(t),e)):r;}userScopeToString(e){return 2===e?"globalme":1===e?"host":"me";}get httpClient(){return this._httpClient||(this._httpClient=this.pageContext.getRestClient("ISettingsRestClient")),this._httpClient;}get canCallSettingsEndpoint(){return void 0===this._canCallSettingsEndpoint&&(this._canCallSettingsEndpoint=(0,O.userHasClaim)(this.pageContext,"member")),this._canCallSettingsEndpoint;}updateLocalEntries(e,t,n,r,i){const s=this.getEntriesForKey(n,r,i);if(s){__WRAPPED_set(s,e,'=',t);const n=e.split("/");for(let e=n.length-2;e>=0;e--){const r=__WRAPPED_get(s,n.slice(0,e+1).join("/"));if(r){let i=r;for(let t=e+1;t<n.length-1&&i;t++){let e=__WRAPPED_get(i,__WRAPPED_get(n,t));e||(e=__WRAPPED_set(i,__WRAPPED_get(n,t),'=',{})),i=e;}__WRAPPED_set(i,n[n.length-1],'=',t);}}}return t;}getEntriesForKey(e,t,n){let r;if(this.canCallSettingsEndpoint){const i=this.pageContext.getService("IVssContributionService").getSharedData("_settings");if(i){let s=this.userScopeToString(e);t&&(s+=";"+t+";"+(n||"")),r=__WRAPPED_get(i,s);}}return r;}}m.Services.add("ISettingsService",{serviceFactory:i});}()),(function(e){t.StartRightExtension={};class n extends m.VssService{navigateToCreateRepository(e){const t=this.getStartRightBaseUrl(e);if(!t)return!1;const n=t+"#repository";return(0,N.onClickFPS)(e,n,!0),!0;}getCreatePipelineUrl(e){const t=this.getStartRightBaseUrl(e);if(t)return t+"#pipeline";}getCreatePipelineUrlByRepository(e,t,n,r){const i=this.getStartRightBaseUrl(e);if(!i)return;return i+`?sourceProvider=TfsGit&repositoryId=${encodeURIComponent(t)}&repositoryName=${encodeURIComponent(n)}&branch=${encodeURIComponent(r)}&sourceProviderComplete=true`+"#pipeline";}getCreatePipelineUrlByPipelineFolder(e,t){const n=this.getStartRightBaseUrl(e);if(!n)return;return n+`?pipelinePath=${encodeURIComponent(t)}`+"#pipeline";}getStartRightBaseUrl(e){const t=e.getService("IVssNavigationService").getNavigation("ms-1es.startright.startright-group");if(t)return t.href;}}m.Services.add("IStartRightExtensionService",{serviceFactory:n,options:4});}()),(function(e){function n(e,t){if(e.contains(t))return!0;const n=e.getAttribute("aria-owns");if(n&&r(n,t))return!0;const i=e.querySelectorAll("[aria-owns]");for(let e=0;e<i.length;e++){if(r(__WRAPPED_get(i,e).getAttribute("aria-owns"),t))return!0;}return!1;}function r(e,t){const r=document.querySelector("[id='"+e+"']");return!(!r||!n(r,t));}t.UtilDOM={},t.UtilDOM.contains=n;}()),(function(e){t.UtilLinking={};const n="vstfs:///";function r(e){let t;return t=e.replace(/\+/g," "),t=decodeURIComponent(t),t;}t.UtilLinking.encodeUri=function(e){return n+[encodeURIComponent(e.tool),encodeURIComponent(e.type),encodeURIComponent(e.id)].join("/");},t.UtilLinking.decodeUri=function(e){let t,i;if(e.length>n.length&&(t=e.substr(0,n.length).toLowerCase(),t===n&&(i=e.substr(n.length).split("/"),i.length>=3))){const t=i[0],n=i[1],s=i.slice(2).join("/");return{uri:e,tool:r(t),type:r(n),id:r(s)};}throw new Error(`Invalid artifact uri: ${e}`);};}()),t.UtilNumber={},t.UtilNumber.parseFloatLocale=function(e,t=navigator.language){const n=Intl.NumberFormat(t).format(1.1)[1],r=Intl.NumberFormat(t).format(1e3)[1];let i,s;const o=(e=e.trim()).indexOf(n);o<0?(i=e,s=null):(i=e.substr(0,o),s=e.substr(o+1)),i=i.split(r).join("");const a=i+(s?"."+s:"");return a.match(/^[+-]?\d*\.?\d*$/)?parseFloat(a):Number.NaN;};},["Resources","Util/Serialization","Contracts/Platform","Context","Util/Cookie","Fetch","IPlatformRestErrorHandler","Util/Url","RestClientBase","RestClient/Authentication","Authentication","Content","RestClient/WebContributions","Util/Object","Contribution","Page","RestClient/CustomerIntelligence","Util/Array","Util/Storage","Telemetry","Theming","Performance","Layout","Navigation","RestClient/ClientTrace","Trace","Components/ErrorBoundary/ErrorBoundary","Components/ErrorBoundary","Components/Format/Format","Components/Format","Components/Layout/Layout","Components/Layout","History","FPS","Components/FPSLink/FPSLink","Components/FPSLink","Components/Performance/Performance","Components/Performance","Feature","Culture","String","Date","Fallback","Identity","KeyboardShortcuts","MsalAuthentication","Location","PlatformRestErrorHandler","UserClaims","RestClientOptionsProvider","RestClient/Contributions","RestClient/Locations","RestClient/Settings","Search","Security","Settings","StartRightExtension","Util/DOM","Util/Linking","Util/Number"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-web.platform-content"}}));