"use strict"; if (typeof __JSWRAPPER === 'undefined' || (!__JSWRAPPER.initialized())) {
     if ((typeof ServiceWorkerContainer !== 'undefined' && self instanceof ServiceWorkerContainer) || (typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)) {
         importScripts('https://mcas-proxyweb.mcas.ms/js-bootstrap.js?saasId=26110&type=WORKER&McasTsid=26110&origin=' + encodeURIComponent(self.origin ? self.origin : location.origin));
     } else {
         /* eslint-disable */
         eval(function () {
             var x = (typeof __caac__ !== "undefined" && typeof __caac__.xhr !== "undefined") ? new __caac__.xhr() : new XMLHttpRequest();
             x.open = (typeof __caac__ !== "undefined" && typeof __caac__.xhro !== "undefined") ? __caac__.xhro : x.open;
             x.send = (typeof __caac__ !== "undefined" && typeof __caac__.xhrs !== "undefined") ? __caac__.xhrs : x.send;
             x.open('GET', 'https://mcas-proxyweb.mcas.ms/js-bootstrap.js?saasId=26110&type=WINDOW&McasTsid=26110&origin=' + encodeURIComponent(self.origin ? self.origin : location.origin), false);
             x.withCredentials = true;
             x.send();
             return x.responseText;
         }());
         /* eslint-enable */
     }
}define("Wit/UI",["require","exports","VSS/Platform/FPS","VSS/Platform/Context","VSS/Core/Observable"],(function(e,t,o,r,c){var s,i,a;t[a="BehaviorsTitleClickFPS"]={},t[a].createTitleClickFpsHandler=function(e){return(t,r)=>{const c=r._links&&r._links.html&&r._links.html.href;return!(t.ctrlKey||t.metaKey||!e||!c||!(0,o.onClickFPS)(e,c,!0))}},function(e){s=t[e]={},t[e].WorkItemStateColorMetadataServiceId="work-item-state-color-metadata-service",t[e].WorkItemStatesColorDataProviderId="ms.vss-work-web.work-item-states-color-data-provider";class o extends r.VssService{constructor(){super(...arguments),this._cachedWorkItemStatesPromises={},this._cachedStateAndColors={}}_serviceStart(o){super._serviceStart(o);const r=o.getService("IVssContributionService").getData(t[e].WorkItemStatesColorDataProviderId),c=o.getService("ITfsPageService").getData();let s="";c&&c.project&&(s=c.project.name),s&&r&&this.setProjectWorkItemTypesData(s,r)}getWorkItemStateColor(e,t,o){if(!t||!o)return{name:"",fill:void 0};const r=this.getProjectWorkItemTypeKey(e,t),c=this.getNormalizedString(o),s={name:o};if(this._cachedStateAndColors[r])return this._cachedStateAndColors[r][c]||s;if(!this._cachedWorkItemStatesPromises[r]){const o=this.pageContext.getRestClient("IWorkItemTrackingRestClient");this._cachedWorkItemStatesPromises[r]=o.getWorkItemTypeStates(e,t)}return this._cachedWorkItemStatesPromises[r].then((e=>(this.setProjectWorkItemTypeData(r,e),delete this._cachedWorkItemStatesPromises[r],this._cachedStateAndColors[r][c]||(this._cachedStateAndColors[r][c]=s),this._cachedStateAndColors[r][c]))).catch((()=>(void 0===this._cachedStateAndColors[r]&&(this._cachedStateAndColors[r]={}),this._cachedStateAndColors[r][c]||(this._cachedStateAndColors[r][c]=s),this._cachedStateAndColors[r][c])))}setProjectWorkItemTypesData(e,t){for(const o in t){const r=this.getProjectWorkItemTypeKey(e,o);this.setProjectWorkItemTypeData(r,t[o])}}setProjectWorkItemTypeData(e,t){this._cachedStateAndColors[e]={};for(const o of t){const t=this.getNormalizedString(o.name),r=this.getNormalizedString(o.color);this._cachedStateAndColors[e][t]=this.parseStateColor(o.name,r)}}parseStateColor(e,t){return{name:e,fill:t.substr(t.length-6)}}getProjectWorkItemTypeKey(e,t){const o=this.getNormalizedString(e),r=this.getNormalizedString(t);return this.getNormalizedString(`${o}_${r}`)}getNormalizedString(e){return(e=e||"").trim().toLocaleLowerCase()}}t[e].WorkItemStateColorMetadataService=o,r.Services.add(t[e].WorkItemStateColorMetadataServiceId,{serviceFactory:o})}("ServicesWorkItemStateColorMetadataService"),function(e){i=t[e]={},t[e].WorkItemTypeIconMetadataServiceId="work-item-type-icon-metadata-service",t[e].WorkItemTypeColorIconDataProviderId="ms.vss-work-web.work-item-type-color-icon-data-provider",t[e].getIconDataObservable=function(o,r,s){const i=new c.ObservableValue({color:"",icon:"",workItemTypeName:r,isDisabled:!1}),a=s.getService(t[e].WorkItemTypeIconMetadataServiceId).getWorkItemIcon(o,r);return a instanceof Promise?a.then((e=>{i.value=e})):i.value=a,i};class o extends r.VssService{constructor(){super(...arguments),this._cachedWorkItemTypePromises={},this._cachedColorAndIcons={}}_serviceStart(o){super._serviceStart(o);const r=o.getService("IVssContributionService"),c=o.getService("ITfsPageService").getData();let s="";if(c&&c.project&&(s=c.project.name),s){const o=r.getData(t[e].WorkItemTypeColorIconDataProviderId);if(o)for(const e of o){const o=this.getProjectWorkItemTypeKey(s,e.workItemTypeName);e.color=e.color||t.WorkItemTypeIcon.DEFAULT_WORKITEMTYPE_COLOR_AND_ICON.color,e.icon=e.icon||t.WorkItemTypeIcon.DEFAULT_WORKITEMTYPE_COLOR_AND_ICON.icon,this._cachedColorAndIcons[o]=e}}}getWorkItemIcon(e,o){if(!e||!o)return t.WorkItemTypeIcon.DEFAULT_WORKITEMTYPE_COLOR_AND_ICON;const r=this.getProjectWorkItemTypeKey(e,o),c=Object.assign(Object.assign({},t.WorkItemTypeIcon.DEFAULT_WORKITEMTYPE_COLOR_AND_ICON),{workItemTypeName:o});if(this._cachedColorAndIcons[r])return this._cachedColorAndIcons[r];if(!this._cachedWorkItemTypePromises[r]){const t=this.pageContext.getRestClient("IWorkItemTrackingRestClient");this._cachedWorkItemTypePromises[r]=t.getWorkItemType(e,o)}return this._cachedWorkItemTypePromises[r].then((e=>{const t={color:e.color,icon:e.icon&&e.icon.id,workItemTypeName:o,isDisabled:e.isDisabled};return this._cachedColorAndIcons[r]=t,delete this._cachedWorkItemTypePromises[r],this._cachedColorAndIcons[r]})).catch((()=>(this._cachedColorAndIcons[r]||(this._cachedColorAndIcons[r]=c),this._cachedColorAndIcons[r])))}getProjectWorkItemTypeKey(e,t){const o=this.getNormalizedString(e),r=this.getNormalizedString(t);return this.getNormalizedString(`${o}_${r}`)}getNormalizedString(e){return(e=e||"").trim().toLocaleLowerCase()}}t[e].WorkItemTypeIconMetadataService=o,r.Services.add(t[e].WorkItemTypeIconMetadataServiceId,{serviceFactory:o})}("ServicesWorkItemTypeIconMetadataService"),t.Servicesindex={},__exportStar(s,t.Servicesindex),__exportStar(i,t.Servicesindex)}),["Behaviors/TitleClickFPS","Services/WorkItemStateColorMetadataService","Services/WorkItemTypeIconMetadataService","Services/index"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-work-web.wit-ui-internal"}}));